{"version":3,"sources":["../../../../../client/components/ui/input.tsx","../../../../../client/app/admin/chat-buddy/page.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n","\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"\";\r\n\r\n/* ---------------- TYPES ---------------- */\r\ntype ChatBuddy = {\r\n  _id: string;\r\n  name: string;\r\n  bio?: string;\r\n  status: \"online\" | \"offline\" | \"busy\";\r\n  photo?: string;\r\n};\r\n\r\nexport default function ChatBuddyPage() {\r\n  /* ---------------- STATE ---------------- */\r\n  const [buddies, setBuddies] = useState<ChatBuddy[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [photo, setPhoto] = useState<File | null>(null);\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage] = useState(5);\r\n  const [totalBuddies, setTotalBuddies] = useState(0);\r\n\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    bio: \"\",\r\n  });\r\n\r\n  /* ---------------- FETCH LIST ---------------- */\r\n  const fetchChatBuddies = async () => {\r\n    try {\r\n      const skip = (currentPage - 1) * itemsPerPage;\r\n      const res = await fetch(\r\n        `${API_URL}/chat-buddy?skip=${skip}&limit=${itemsPerPage}`\r\n      );\r\n      const data = await res.json();\r\n      setBuddies(data.buddies || []);\r\n      setTotalBuddies(data.total || 0);\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchChatBuddies();\r\n  }, [currentPage]);\r\n\r\n  /* ---------------- RESET FORM ---------------- */\r\n  const resetForm = () => {\r\n    setForm({ name: \"\", bio: \"\" });\r\n    setPhoto(null);\r\n    setEditingId(null);\r\n    setShowForm(false);\r\n  };\r\n\r\n  /* ---------------- SUBMIT ---------------- */\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"name\", form.name);\r\n    formData.append(\"bio\", form.bio);\r\n    if (photo) formData.append(\"photo\", photo);\r\n\r\n    const url = editingId\r\n      ? `${API_URL}/chat-buddy/${editingId}`\r\n      : `${API_URL}/chat-buddy`;\r\n\r\n    const method = editingId ? \"PATCH\" : \"POST\";\r\n\r\n    const res = await fetch(url, { method, body: formData });\r\n\r\n    if (!res.ok) {\r\n      alert(\"Something went wrong\");\r\n      return;\r\n    }\r\n\r\n    resetForm();\r\n    fetchChatBuddies();\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  /* ---------------- EDIT ---------------- */\r\n  const handleEdit = (buddy: ChatBuddy) => {\r\n    setEditingId(buddy._id);\r\n    setForm({\r\n      name: buddy.name,\r\n      bio: buddy.bio || \"\",\r\n    });\r\n    setShowForm(true);\r\n  };\r\n\r\n  /* ---------------- DELETE ---------------- */\r\n  const handleDelete = async (id: string) => {\r\n    const confirmed = confirm(\"Are you sure you want to delete this chat buddy?\");\r\n    if (!confirmed) return;\r\n\r\n    try {\r\n      const res = await fetch(`${API_URL}/chat-buddy/${id}`, { method: \"DELETE\" });\r\n      if (!res.ok) throw new Error(\"Failed to delete\");\r\n\r\n      // Update the UI without refetching\r\n      setBuddies((prev) => prev.filter((buddy) => buddy._id !== id));\r\n      setTotalBuddies((prev) => prev - 1);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to delete buddy\");\r\n    }\r\n  };\r\n\r\n  const handleRemoveSlot = async (id: string) => {\r\n    const confirmed = confirm(\"Remove one booked slot?\");\r\n    if (!confirmed) return;\r\n\r\n    try {\r\n      const res = await fetch(\r\n        `${API_URL}/chat-buddy/${id}/remove-slot`,\r\n        { method: \"PATCH\" }\r\n      );\r\n\r\n      if (!res.ok) throw new Error(\"Failed\");\r\n\r\n      fetchChatBuddies();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to remove slot\");\r\n    }\r\n  };\r\n\r\n  const SlotTicks = ({\r\n    bookedSlots,\r\n    maxSlots,\r\n  }: {\r\n    bookedSlots: number;\r\n    maxSlots: number;\r\n  }) => {\r\n    return (\r\n      <div className=\"flex gap-1 mt-2\">\r\n        {Array.from({ length: maxSlots }).map((_, i) => (\r\n          <span\r\n            key={i}\r\n            className={`w-4 h-4 rounded-full border flex items-center justify-center\r\n            ${i < bookedSlots\r\n                ? \"bg-green-500 border-green-500\"\r\n                : \"bg-gray-100 border-gray-300\"\r\n              }`}\r\n          >\r\n            {i < bookedSlots && (\r\n              <span className=\"text-white text-xs\">âœ“</span>\r\n            )}\r\n          </span>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n\r\n  /* ---------------- UI ---------------- */\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto p-6 space-y-8\">\r\n      {/* ================= HEADER ================= */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-bold\">Chat Buddies</h2>\r\n\r\n        <Button\r\n          onClick={() => {\r\n            if (showForm) resetForm();\r\n            else setShowForm(true);\r\n          }}\r\n        >\r\n          {showForm ? \"Close Form\" : \"Add Chat Buddy\"}\r\n        </Button>\r\n      </div>\r\n\r\n      {/* ================= FORM ================= */}\r\n      {showForm && (\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className=\"bg-white p-6 rounded-lg shadow space-y-4\"\r\n        >\r\n          <h3 className=\"text-xl font-semibold\">\r\n            {editingId ? \"Edit Chat Buddy\" : \"Add Chat Buddy\"}\r\n          </h3>\r\n\r\n          <Input\r\n            placeholder=\"Name\"\r\n            required\r\n            value={form.name}\r\n            onChange={(e) => setForm({ ...form, name: e.target.value })}\r\n          />\r\n\r\n          <textarea\r\n            className=\"w-full border rounded px-3 py-2\"\r\n            placeholder=\"Bio\"\r\n            value={form.bio}\r\n            onChange={(e) => setForm({ ...form, bio: e.target.value })}\r\n          />\r\n\r\n          {/* <select\r\n            className=\"w-full border rounded px-3 py-2\"\r\n            value={form.status}\r\n            onChange={(e) => setForm({ ...form, status: e.target.value })}\r\n          >\r\n            <option value=\"online\">Online</option>\r\n            <option value=\"offline\">Offline</option>\r\n            <option value=\"busy\">Busy</option>\r\n          </select> */}\r\n\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={(e) => setPhoto(e.target.files?.[0] || null)}\r\n          />\r\n\r\n          <div className=\"flex gap-3\">\r\n            <Button type=\"submit\">\r\n              {editingId ? \"Update Buddy\" : \"Create Buddy\"}\r\n            </Button>\r\n            <Button type=\"button\" variant=\"outline\" onClick={resetForm}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      )}\r\n\r\n      {/* ================= LIST ================= */}\r\n      <div className=\"space-y-4\">\r\n        {loading ? (\r\n          <p>Loading...</p>\r\n        ) : buddies.length === 0 ? (\r\n          <p>No chat buddies found</p>\r\n        ) : (\r\n          buddies.map((buddy) => (\r\n            <div\r\n              key={buddy._id}\r\n              className=\"bg-white rounded-lg shadow p-4 flex gap-4\"\r\n            >\r\n              <img\r\n                src={buddy.photo || \"/placeholder-avatar.png\"}\r\n                className=\"w-14 h-14 rounded-full object-cover\"\r\n                alt={buddy.name}\r\n              />\r\n\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <h3 className=\"font-semibold\">{buddy.name}</h3>\r\n                  <span className=\"text-xs px-2 py-1 rounded bg-gray-100\">\r\n                    {buddy.status}\r\n                  </span>\r\n                </div>\r\n\r\n                {buddy.bio && (\r\n                  <p className=\"text-sm text-gray-600 mt-1\">\r\n                    {buddy.bio}\r\n                  </p>\r\n                )}\r\n\r\n                <SlotTicks\r\n                  bookedSlots={buddy.bookedSlots}\r\n                  maxSlots={buddy.maxSlots}\r\n                />\r\n\r\n                <div className=\"flex gap-2 mt-3\">\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    onClick={() => handleEdit(buddy)}\r\n                  >\r\n                    Edit\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"destructive\"\r\n                    onClick={() => handleDelete(buddy._id)}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                  {buddy.bookedSlots > 0 && (\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"secondary\"\r\n                      onClick={() => handleRemoveSlot(buddy._id)}\r\n                    >\r\n                      Remove Slot\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* ================= PAGINATION ================= */}\r\n      {buddies.length > 0 && (\r\n        <div className=\"flex justify-center items-center gap-3\">\r\n          <Button\r\n            onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n            disabled={currentPage === 1}\r\n            variant=\"outline\"\r\n          >\r\n            Previous\r\n          </Button>\r\n\r\n          <div className=\"flex gap-1\">\r\n            {Array.from({\r\n              length: Math.ceil(totalBuddies / itemsPerPage),\r\n            }).map((_, index) => (\r\n              <Button\r\n                key={index + 1}\r\n                onClick={() => setCurrentPage(index + 1)}\r\n                variant={currentPage === index + 1 ? \"default\" : \"outline\"}\r\n                size=\"sm\"\r\n              >\r\n                {index + 1}\r\n              </Button>\r\n            ))}\r\n          </div>\r\n\r\n          <Button\r\n            onClick={() =>\r\n              setCurrentPage((prev) =>\r\n                Math.min(\r\n                  prev + 1,\r\n                  Math.ceil(totalBuddies / itemsPerPage)\r\n                )\r\n              )\r\n            }\r\n            disabled={\r\n              currentPage === Math.ceil(totalBuddies / itemsPerPage)\r\n            }\r\n            variant=\"outline\"\r\n          >\r\n            Next\r\n          </Button>\r\n\r\n          <span className=\"text-sm text-gray-600 ml-2\">\r\n            Page {currentPage} of {Math.ceil(totalBuddies / itemsPerPage)} |\r\n            Total: {totalBuddies}\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}