module.exports=[44718,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(54949),e=a.i(26332);a.s(["default",0,({children:a})=>{let f=(0,d.useRouter)(),g=(0,e.getUserIdFromToken)();return((0,c.useEffect)(()=>{g||f.push("/login")},[g,f]),g)?(0,b.jsx)(b.Fragment,{children:a}):null}])},49250,a=>{"use strict";var b=a.i(44980);let c="https://lms-v4tz.onrender.com/course-purchase",d=async(a,d)=>{console.log("Fetching course details for:",c);try{let{data:e}=await b.default.get(`${c}/${a}`,{params:d?{userId:d}:{}}),f=!!e?.purchased,g=e?.coursePurchase?.status;if(g&&"string"==typeof g){let a=g.toLowerCase();f="paid"===a||"success"===a||"completed"===a}return{...e,purchased:f}}catch(a){console.error("Error fetching course:",a)}},e=async a=>{try{let{data:d}=await b.default.post(`${c}/${a}/create-razorpay-order`);return d}catch(a){console.error("Error creating order:",a)}},f=async a=>{try{console.log("ðŸ” Verifying payment with details:",a);let{data:d}=await b.default.post(`${c}/verify-payment`,a);return console.log("âœ… Payment verification response:",d),d}catch(a){throw console.error("âŒ Error verifying payment:",a),a}},g=async a=>{try{let{data:d}=await b.default.get(`${c}/purchased-courses/${a}`);return d}catch(a){throw Error(a.response?.data?.message||"Failed to fetch purchased courses")}},h=async({courseId:a,userId:b})=>(await fetch("https://lms-v4tz.onrender.com/courses/enroll-student",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:a,userId:b})})).json(),i=async()=>{try{let{data:a}=await b.default.get(`${c}/admin/all-purchases`);return a}catch(a){throw Error(a.response?.data?.message||"Failed to fetch purchases")}},j=async a=>{try{let{data:d}=await b.default.post(`${c}/admin/revoke/${a}`);return d}catch(a){throw Error(a.response?.data?.message||"Failed to revoke access")}},k=async a=>{try{let{data:d}=await b.default.post(`${c}/admin/restore/${a}`);return d}catch(a){throw Error(a.response?.data?.message||"Failed to restore access")}};a.s(["createRazorpayOrder",0,e,"enrollIdCourse",0,h,"fetchPurchasedCourses",0,g,"getAllPurchasesForAdmin",0,i,"getCoursedetailWithPurchaseStatus",0,d,"restoreAccess",0,k,"revokeAccess",0,j,"verifyPayment",0,f])},45041,a=>{"use strict";var b=a.i(44980);let c="https://lms-v4tz.onrender.com/live-session",d=async()=>{try{let{data:a}=await b.default.get(c);return a}catch(a){throw console.error("Error fetching live sessions:",a),a}},e=async(a,d)=>{try{let{data:e}=await b.default.post(`${c}/${a}/create-order`,{userId:d});return e}catch(a){throw console.error("Error creating live session order:",a),a}},f=async a=>{try{let{data:d}=await b.default.post(`${c}/verify-payment`,a);return d}catch(a){throw console.error("Error verifying live session payment:",a),a}},g=async a=>{try{let{data:d}=await b.default.get(`${c}/enrolled/${a}`);return d}catch(a){throw console.error("Error fetching enrolled live sessions:",a),a}};a.s(["createLiveSessionOrder",0,e,"fetchEnrolledLiveSessions",0,g,"fetchLiveSessions",0,d,"verifyLiveSessionPayment",0,f])},77245,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(49250),e=a.i(45041),f=a.i(26332),g=a.i(3642),h=a.i(85200),i=a.i(15723);function j(){let[a,j]=(0,c.useState)([]),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),o=(0,f.getUserIdFromToken)();return((0,c.useEffect)(()=>{(async()=>{if(o)try{let a=await (0,d.fetchPurchasedCourses)(o);j(a.courses);let b=await (0,e.fetchEnrolledLiveSessions)(o);l(b)}catch(a){h.default.error("Failed to load learning data.")}finally{n(!1)}})()},[o]),m)?(0,b.jsx)("div",{children:"Loading..."}):(0,b.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,b.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight lg:text-5xl text-center mb-12",children:"My Learning"}),(0,b.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"My Courses"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:a.map(a=>(0,b.jsxs)("div",{className:"bg-card dark:bg-gray-800/50 rounded-lg shadow-sm border p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:a.courseTitle}),(0,b.jsxs)("p",{className:"text-muted-foreground mb-4",children:["by ",a.creator.name]}),(0,b.jsx)(g.default,{href:`/course/course-progress/${a._id}`,children:(0,b.jsx)(i.Button,{className:"w-full",children:"Go to Course"})})]},a._id))}),(0,b.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"My Live Sessions"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:k.map(a=>(0,b.jsxs)("div",{className:"bg-card dark:bg-gray-800/50 rounded-lg shadow-sm border p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:a.title}),(0,b.jsxs)("p",{className:"text-muted-foreground mb-4",children:["with ",a.instructor.name]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Date & Time:"})," ",new Date(a.dateTime).toLocaleString()]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Duration:"})," ",a.duration," minutes"]})]},a._id))})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=client_9bbd7d76._.js.map