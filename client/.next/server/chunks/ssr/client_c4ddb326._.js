module.exports=[30246,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(91981);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},94141,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(77210),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(95019),g=a.i(91981);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],94141)},1929,29866,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(87564),e=a.i(81364);function f(a){return a}function g(a){return a.state.isPaused}function h(a){return"success"===a.state.status}function i(a){return!0}function j(a,b={}){let c=b.shouldDehydrateMutation??a.getDefaultOptions().dehydrate?.shouldDehydrateMutation??g,d=a.getMutationCache().getAll().flatMap(a=>c(a)?[{mutationKey:a.options.mutationKey,state:a.state,...a.options.scope&&{scope:a.options.scope},...a.meta&&{meta:a.meta}}]:[]),k=b.shouldDehydrateQuery??a.getDefaultOptions().dehydrate?.shouldDehydrateQuery??h,l=b.shouldRedactErrors??a.getDefaultOptions().dehydrate?.shouldRedactErrors??i,m=b.serializeData??a.getDefaultOptions().dehydrate?.serializeData??f;return{mutations:d,queries:a.getQueryCache().getAll().flatMap(a=>{let b;return k(a)?[{dehydratedAt:Date.now(),state:{...a.state,...void 0!==a.state.data&&{data:m(a.state.data)}},queryKey:a.queryKey,queryHash:a.queryHash,..."pending"===a.state.status&&{promise:(b=a.promise?.then(m).catch(a=>l(a)?Promise.reject(Error("redacted")):Promise.reject(a)),b?.catch(e.noop),b)},...a.meta&&{meta:a.meta}}]:[]})}}function k(a,b,c){if("object"!=typeof b||null===b)return;let g=a.getMutationCache(),h=a.getQueryCache(),i=c?.defaultOptions?.deserializeData??a.getDefaultOptions().hydrate?.deserializeData??f,j=b.mutations||[],k=b.queries||[];j.forEach(({state:b,...d})=>{g.build(a,{...a.getDefaultOptions().hydrate?.mutations,...c?.defaultOptions?.mutations,...d},b)}),k.forEach(({queryKey:b,state:f,queryHash:g,meta:j,promise:k,dehydratedAt:l})=>{let m=k?(0,d.tryResolveSync)(k):void 0,n=void 0===f.data?m?.data:f.data,o=void 0===n?n:i(n),p=h.get(g),q=p?.state.status==="pending",r=p?.state.fetchStatus==="fetching";if(p){let a=m&&void 0!==l&&l>p.state.dataUpdatedAt;if(f.dataUpdatedAt>p.state.dataUpdatedAt||a){let{fetchStatus:a,...b}=f;p.setState({...b,data:o})}}else p=h.build(a,{...a.getDefaultOptions().hydrate?.queries,...c?.defaultOptions?.queries,queryKey:b,queryHash:g,meta:j},{...f,data:o,fetchStatus:"idle",status:void 0!==o?"success":f.status});k&&!q&&!r&&(void 0===l||l>p.state.dataUpdatedAt)&&p.fetch(void 0,{initialPromise:Promise.resolve(k).then(i)}).catch(e.noop)})}a.s(["dehydrate",()=>j,"hydrate",()=>k],29866);var l=a.i(56933),m=({children:a,options:b={},state:d,queryClient:e})=>{let f=(0,l.useQueryClient)(e),g=c.useRef(b);c.useEffect(()=>{g.current=b});let h=c.useMemo(()=>{if(d){if("object"!=typeof d)return;let a=f.getQueryCache(),b=d.queries||[],c=[],e=[];for(let d of b){let b=a.get(d.queryHash);b?(d.state.dataUpdatedAt>b.state.dataUpdatedAt||d.promise&&"pending"!==b.state.status&&"fetching"!==b.state.fetchStatus&&void 0!==d.dehydratedAt&&d.dehydratedAt>b.state.dataUpdatedAt)&&e.push(d):c.push(d)}if(c.length>0&&k(f,{queries:c},g.current),e.length>0)return e}},[f,d]);return c.useEffect(()=>{h&&k(f,{queries:h},g.current)},[f,h]),a};function n(a){return(0,b.jsx)(m,{...a})}a.s(["Hydrate",()=>n],1929)},28373,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(91981);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border border-gray-300 bg-card  dark:bg-navBackground  text-card-foreground shadow",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},13260,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(19454),e=a.i(52893),f=a.i(91981);let g=d.Root,h=d.Trigger,i=d.Portal;d.Close;let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{ref:e,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...g},h)=>(0,b.jsxs)(i,{children:[(0,b.jsx)(j,{}),(0,b.jsxs)(d.Content,{ref:h,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...g,children:[c,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(e.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c}));o.displayName=d.Description.displayName,a.s(["Dialog",()=>g,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>h])},30414,a=>{"use strict";var b=a.i(16547);a.i(9651);var c=a.i(95019),d=a.i(91981);let e=(0,c.cva)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},44718,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(54949),e=a.i(26332);a.s(["default",0,({children:a})=>{let f=(0,d.useRouter)(),g=(0,e.getUserIdFromToken)();return((0,c.useEffect)(()=>{g||f.push("/login")},[g,f]),g)?(0,b.jsx)(b.Fragment,{children:a}):null}])},14305,a=>{"use strict";let b=(0,a.i(31276).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],14305)},4309,a=>{"use strict";let b=(0,a.i(31276).default)("StarHalf",[["path",{d:"M12 18.338a2.1 2.1 0 0 0-.987.244L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.12 2.12 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.12 2.12 0 0 0 1.597-1.16l2.309-4.679A.53.53 0 0 1 12 2",key:"2ksp49"}]]);a.s(["StarHalf",()=>b],4309)},57586,a=>{"use strict";var b=a.i(16547),c=a.i(7658),d=a.i(30414),e=a.i(28373),f=a.i(14305),g=a.i(4309),h=a.i(9651),i=a.i(3642);let j=({rating:a})=>{let c=Math.floor(a),d=a-c>=.5;return(0,b.jsxs)("div",{className:"flex",children:[Array.from({length:c}).map((a,c)=>(0,b.jsx)(f.Star,{className:"h-5 w-5 text-yellow-500 fill-current"},`full-${c}`)),d&&(0,b.jsx)(g.StarHalf,{className:"h-5 w-5 text-yellow-500 fill-current "},"half"),Array.from({length:5-c-!!d}).map((a,c)=>(0,b.jsx)(f.Star,{className:"h-5 w-5 text-gray-300"},`empty-${c}`))]})};a.s(["default",0,({course:a,userId:f})=>{let[g,k]=(0,h.useState)(null),[l,m]=(0,h.useState)(0),[n,o]=(0,h.useState)(!1),[p,q]=(0,h.useState)(!1);return(0,h.useEffect)(()=>{async function b(){try{let b=await fetch(`https://lms-v4tz.onrender.com/ratings/${a._id}`);if(!b.ok)throw Error("Failed to fetch rating");let c=await b.json();k(c)}catch(a){console.error("Error fetching rating:",a)}}async function c(){if(f)try{let b=await fetch("https://lms-v4tz.onrender.com/favorites/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:f,courseId:a._id})});if(!b.ok)throw Error("Failed to check favorite status");let c=await b.json();o(c.isFavorite)}catch(a){console.error("Error checking favorite status:",a)}}a&&a._id&&(b(),c()),a.courseMRP&&a.coursePrice&&m(Math.round((a.courseMRP-a.coursePrice)/a.courseMRP*100))},[a,f]),(0,b.jsx)(i.default,{href:`/course/course-detail/${a._id}`,children:(0,b.jsxs)(e.Card,{className:"overflow-hidden rounded-lg dark:bg-gray-800 bg-white shadow-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:a.courseThumbnail,alt:"course",className:"w-full h-36 object-cover rounded-t-lg"}),l>0&&(0,b.jsxs)("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-2 py-1 text-xs font-bold rounded-tr-lg rounded-bl-lg",children:[l,"% OFF"]})]}),(0,b.jsxs)(e.CardContent,{className:"px-5 py-4 space-y-3",children:[(0,b.jsx)("h1",{className:"hover:underline font-bold text-lg truncate",children:a.courseTitle}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(c.Avatar,{className:"h-8 w-8",children:[(0,b.jsx)(c.AvatarImage,{src:a.creator?.photoUrl||"https://github.com/shadcn.png",alt:"creator"}),(0,b.jsx)(c.AvatarFallback,{children:"CN"})]}),(0,b.jsx)("h1",{className:"font-medium text-sm",children:a.creator?.name})]}),(0,b.jsx)(d.Badge,{className:`px-2 py-1 text-xs rounded-full ${(a=>{switch(a?.toLowerCase()||""){case"beginner":return"bg-green-700 text-white";case"intermediate":case"medium":return"bg-blue-600 text-white";case"advance":return"bg-red-700 text-white";default:return"bg-gray-100 text-gray-800"}})(a.courseLevel)}`,children:a.courseLevel})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-lg font-bold",children:["₹",a.coursePrice]}),a.courseMRP>a.coursePrice&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("span",{className:"text-gray-500 line-through text-sm",children:["₹",a.courseMRP]}),(0,b.jsxs)("span",{className:"text-green-600 text-sm font-medium",children:["(",l,"% off)"]})]})]}),g?(0,b.jsxs)("div",{className:"mt-2 flex items-center",children:[(0,b.jsx)(j,{rating:g.average}),(0,b.jsxs)("span",{className:"text-gray-600 text-sm ml-2 ",children:["(",g.count," reviews)"]})]}):(0,b.jsx)("div",{className:"mt-2 text-gray-600 text-sm",children:"No ratings yet"})]})]})})}])},96875,a=>{"use strict";var b=a.i(16547),c=a.i(7658),d=a.i(15723),e=a.i(13260),f=a.i(30246),g=a.i(94141),h=a.i(9651),i=a.i(57586),j=a.i(26332),k=a.i(96231),l=a.i(60657),m=a.i(85200);a.s(["default",0,()=>{let a=(0,j.getUserIdFromToken)(),{data:n,isLoading:o,error:p,refetch:q}=(0,k.useUserProfile)(a),[r,s]=(0,h.useState)(""),[t,u]=(0,h.useState)(null),[v,w]=(0,h.useState)(!1),[x,y]=(0,h.useState)("");(0,h.useEffect)(()=>{n&&(s(n.name),y(n.email))},[n]);let z=async()=>{try{await (0,l.updateUserProfile)(a,r,x,t),m.default.success("Profile updated successfully"),w(!1),q()}catch(a){m.default.error(a.message||"Use another email, this email already registered")}};return o?(0,b.jsx)("p",{children:"Loading..."}):p?(0,b.jsx)("p",{children:"Error fetching user profile"}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 my-10",children:[(0,b.jsx)("h1",{className:"font-bold text-2xl text-center md:text-left",children:"PROFILE"}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-8 my-5",children:[(0,b.jsx)("div",{className:"flex flex-col items-center",children:(0,b.jsxs)(c.Avatar,{className:"h-24 w-24 md:h-32 md:w-32 mb-4",children:[(0,b.jsx)(c.AvatarImage,{src:n?.photoUrl||"",alt:n?.name}),(0,b.jsx)(c.AvatarFallback,{className:"text-2xl bg-black text-white font-semibold",children:n?.name?.split(" ").slice(0,2).map(a=>a[0]).join("").toUpperCase()})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsxs)("h1",{className:"font-semibold text-gray-900 dark:text-gray-100 ",children:["Name:",(0,b.jsx)("span",{className:"font-normal text-gray-700 dark:text-gray-300 ml-2",children:n?.name})]})}),(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsxs)("h1",{className:"font-semibold text-gray-900 dark:text-gray-100 ",children:["Email:",(0,b.jsx)("span",{className:"font-normal text-gray-700 dark:text-gray-300 ml-2",children:n?.email})]})}),(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsxs)("h1",{className:"font-semibold text-gray-900 dark:text-gray-100 ",children:["Phone No:",(0,b.jsx)("span",{className:"font-normal text-gray-700 dark:text-gray-300 ml-2",children:n?.number})]})}),(0,b.jsxs)(e.Dialog,{open:v,onOpenChange:w,children:[(0,b.jsx)(e.DialogTrigger,{asChild:!0,children:(0,b.jsx)(d.Button,{size:"sm",className:"mt-2",children:"Edit Profile"})}),(0,b.jsxs)(e.DialogContent,{children:[(0,b.jsxs)(e.DialogHeader,{children:[(0,b.jsx)(e.DialogTitle,{children:"Edit Profile"}),(0,b.jsx)(e.DialogDescription,{children:"Make changes to your profile here. Click save when you're done."})]}),(0,b.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,b.jsx)(g.Label,{children:"Name"}),(0,b.jsx)(f.Input,{type:"text",value:r,onChange:a=>s(a.target.value),placeholder:"Name",className:"col-span-3"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,b.jsx)(g.Label,{children:"Email"}),(0,b.jsx)(f.Input,{type:"email",value:x,onChange:a=>y(a.target.value),placeholder:"Email",className:"col-span-3"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,b.jsx)(g.Label,{children:"Profile Photo"}),(0,b.jsx)(f.Input,{onChange:a=>{let b=a.target.files?.[0];b&&u(b)},type:"file",accept:"image/*",className:"col-span-3"})]})]}),(0,b.jsx)(e.DialogFooter,{children:(0,b.jsx)(d.Button,{onClick:z,children:"Save Changes"})})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"font-medium text-lg",children:"Courses you're enrolled in"}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 my-5",children:n?.enrolledCourses?.length===0?(0,b.jsx)("h1",{children:"You haven't enrolled yet"}):n?.enrolledCourses?.map(a=>(0,b.jsx)(i.default,{course:a},a._id))})]})]})}])}];

//# sourceMappingURL=client_c4ddb326._.js.map