module.exports=[88076,a=>{"use strict";let b=(0,a.i(31276).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],88076)},8794,a=>{"use strict";let b=(0,a.i(31276).default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);a.s(["MessageSquare",()=>b],8794)},30089,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(8794),e=a.i(2638),f=a.i(26572),g=a.i(88076),h=a.i(88664);function i(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(1),l=async()=>{try{let a=await fetch("https://lms-v4tz.onrender.com/notifications/all");if(!a.ok)throw Error("Failed to fetch notifications");let b=await a.json();i(b)}catch(a){console.error("Error fetching notifications:",a)}},m=async a=>{try{let b=localStorage.getItem("token");if(!(await fetch(`https://lms-v4tz.onrender.com/notifications/${a}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}})).ok)throw Error("Failed to mark as read");i(b=>b.map(b=>b._id===a?{...b,isRead:!0}:b))}catch(a){console.error(a)}};(0,c.useEffect)(()=>{l()},[]);let n=Math.ceil(a.length/5),o=(j-1)*5,p=a.slice(o,o+5);return(0,b.jsxs)("div",{className:"w-full max-h-[400px] overflow-y-auto bg-gradient-to-b from-gray-50 to-white",children:[0===a.length&&(0,b.jsxs)("div",{className:"w-full p-12 text-center",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full mb-4",children:(0,b.jsx)(f.Bell,{className:"w-10 h-10 text-blue-500"})}),(0,b.jsx)("p",{className:"text-gray-900 font-semibold text-lg mb-1",children:"All caught up!"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"No new notifications"})]}),(0,b.jsx)("div",{className:"divide-y divide-gray-100",children:p.map(a=>{var c;let g,h,i,j=(a=>{switch(a){case"CHAT":return{bg:"bg-gradient-to-br from-purple-500 to-pink-500",glow:"shadow-purple-200"};case"COURSE":return{bg:"bg-gradient-to-br from-emerald-500 to-teal-500",glow:"shadow-emerald-200"};case"SYSTEM":return{bg:"bg-gradient-to-br from-blue-500 to-indigo-500",glow:"shadow-blue-200"};default:return{bg:"bg-gradient-to-br from-gray-500 to-gray-600",glow:"shadow-gray-200"}}})(a.type);return(0,b.jsxs)("div",{onClick:()=>!a.isRead&&m(a._id),className:`relative flex gap-4 px-5 py-4 cursor-pointer transition-all duration-300 hover:bg-white hover:shadow-md group ${!a.isRead?"bg-gradient-to-r from-blue-50/80 to-indigo-50/50":"bg-transparent"}`,children:[(0,b.jsxs)("div",{className:"relative shrink-0",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-xl ${j.bg} ${j.glow} shadow-lg flex items-center justify-center text-white transform transition-all duration-300 group-hover:scale-110 group-hover:rotate-3`,children:(a=>{switch(a){case"CHAT":return(0,b.jsx)(d.MessageSquare,{className:"w-5 h-5"});case"COURSE":return(0,b.jsx)(e.BookOpen,{className:"w-5 h-5"});default:return(0,b.jsx)(f.Bell,{className:"w-5 h-5"})}})(a.type)}),!a.isRead&&(0,b.jsx)("div",{className:"absolute -top-1 -right-1",children:(0,b.jsxs)("span",{className:"relative flex h-3 w-3",children:[(0,b.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),(0,b.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-blue-500 border-2 border-white"})]})})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-1",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:`text-base leading-snug transition-colors ${!a.isRead?"font-bold text-gray-900":"font-semibold text-gray-700"}`,children:[a.title.replace(/^Reminder:\s*/,"")," "]}),a.userId?.name&&(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-0.5",children:["To: ",a.userId.name]})]}),(0,b.jsx)("span",{className:`text-xs font-medium whitespace-nowrap px-2 py-1 rounded-full transition-all ${!a.isRead?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:(c=a.sentAt,g=new Date,h=new Date(c),(i=Math.floor((g.getTime()-h.getTime())/1e3))<60?"Just now":i<3600?`${Math.floor(i/60)}m ago`:i<86400?`${Math.floor(i/3600)}h ago`:i<604800?`${Math.floor(i/86400)}d ago`:h.toLocaleDateString())})]}),(0,b.jsx)("p",{className:`text-sm leading-relaxed mb-2 transition-colors ${!a.isRead?"text-gray-700":"text-gray-600"}`,children:a.body}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`inline-flex items-center text-xs font-medium px-2.5 py-1 rounded-full ${"CHAT"===a.type?"bg-purple-100 text-purple-700":"COURSE"===a.type?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:a.type}),!a.isRead&&(0,b.jsxs)("span",{className:"text-xs font-semibold text-blue-600 flex items-center gap-1",children:[(0,b.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse"}),"New"]})]})]}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/0 to-indigo-500/0 group-hover:from-blue-500/5 group-hover:to-indigo-500/5 transition-all duration-300 pointer-events-none rounded-lg"})]},a._id)})}),a.length>5&&(0,b.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-t border-gray-100 bg-gray-50",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",j," of ",n]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{j>1&&k(j-1)},disabled:1===j,className:"p-2 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 active:bg-gray-300","aria-label":"Previous page",children:(0,b.jsx)(g.ChevronLeft,{className:"w-4 h-4 text-gray-700"})}),(0,b.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:n},(a,b)=>b+1).map(a=>(0,b.jsx)("button",{onClick:()=>k(a),className:`w-8 h-8 rounded-lg font-medium text-sm transition-all ${a===j?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:a},a))}),(0,b.jsx)("button",{onClick:()=>{j<n&&k(j+1)},disabled:j===n,className:"p-2 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 active:bg-gray-300","aria-label":"Next page",children:(0,b.jsx)(h.ChevronRight,{className:"w-4 h-4 text-gray-700"})})]})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=client_4bd25876._.js.map