module.exports=[30246,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(91981);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},94141,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(77210),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(95019),g=a.i(91981);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],94141)},13260,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(19454),e=a.i(52893),f=a.i(91981);let g=d.Root,h=d.Trigger,i=d.Portal;d.Close;let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{ref:e,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...g},h)=>(0,b.jsxs)(i,{children:[(0,b.jsx)(j,{}),(0,b.jsxs)(d.Content,{ref:h,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...g,children:[c,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(e.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c}));o.displayName=d.Description.displayName,a.s(["Dialog",()=>g,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>h])},21309,a=>{"use strict";let b=(0,a.i(31276).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],21309)},27340,a=>{"use strict";var b=a.i(9651);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},35592,a=>{"use strict";let b=(0,a.i(31276).default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);a.s(["Award",()=>b],35592)},35503,53424,a=>{"use strict";var b=a.i(31276);let c=(0,b.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>c],35503);let d=(0,b.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>d],53424)},47227,a=>{"use strict";var b=a.i(16547),c=a.i(35592),d=a.i(15723),e=a.i(30246),f=a.i(94141),g=a.i(9651),h=a.i(85200),i=a.i(13260),j=a.i(21309),k=a.i(54949);let l=({isOpen:a,onClose:c,title:e="Success!",message:f="Your action was successful.",buttonText:g="Continue"})=>{let h=(0,k.useRouter)();return(0,b.jsx)(i.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(i.DialogContent,{className:"sm:max-w-md text-center",children:[(0,b.jsxs)(i.DialogHeader,{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center mb-2",children:(0,b.jsx)(j.CheckCircle,{className:"h-8 w-8 text-green-600"})}),(0,b.jsx)(i.DialogTitle,{className:"text-xl font-bold text-center",children:e}),(0,b.jsx)(i.DialogDescription,{className:"text-center text-gray-600",children:f})]}),(0,b.jsx)(i.DialogFooter,{className:"sm:justify-center mt-4",children:(0,b.jsx)(d.Button,{onClick:()=>{c(),h.push("/")},className:"w-full sm:w-auto min-w-[120px]",children:g})})]})})};var m=a.i(59272);let n="https://lms-v4tz.onrender.com";a.s(["default",0,()=>{let a=(0,g.useRef)(null);(0,g.useRef)(null);let[i,j]=(0,g.useState)({name:"",email:"",whatsappNo:"",preferredTimeToCall:""}),[k,o]=(0,g.useState)(null),[p,q]=(0,g.useState)(""),r={title:"Chat Buddy",sub:"chat",price:"2000/m",icon:c.Award,route:"/chatBuddy",className:"bg-gradient-to-r from-yellow-400 to-orange-400"},[s,t]=(0,g.useState)(!1),u=async a=>{a.preventDefault();let b=w.find(a=>a._id===p);if(!p||!b)return void h.default.error("Please select an available chat buddy");if(b.bookedSlots>=5)return void h.default.error("This chat buddy is fully booked. Please choose another.");try{if(!window.Razorpay){let a=document.createElement("script");a.src="https://checkout.razorpay.com/v1/checkout.js",a.async=!0,document.body.appendChild(a),await new Promise(b=>a.onload=b)}let a=r.price.match(/\d+/),b=a?parseInt(a[0],10):0,c=await fetch(`${n}/razorpay/create-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:b,currency:"INR",receipt:`chatbuddy_${Date.now()}`})});if(!c.ok)throw Error("Order creation failed");let d=await c.json(),e={key:"rzp_live_RXKihrQL9Kxgg1",amount:d.amount,currency:d.currency,name:"Mr English Training Academy",description:"Chat Buddy Subscription",order_id:d.id,handler:async a=>{try{let b={name:i.name,email:i.email,whatsapp:i.whatsappNo,type:"chat",status:"pending",price:r.price,chatBuddyId:p,preferredTimeToCall:i.preferredTimeToCall,razorpay_payment_id:a.razorpay_payment_id,razorpay_order_id:a.razorpay_order_id,razorpay_signature:a.razorpay_signature,amount:d.amount,currency:d.currency};if(!(await fetch(`${n}/enquiry`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok)return void h.default.error("Payment success but enquiry failed");t(!0)}catch(a){console.error(a),h.default.error("Enquiry creation failed")}},theme:{color:"#b28704"}};new window.Razorpay(e).open()}catch(a){console.error(a),h.default.error("Payment failed")}},v=a=>{j({...i,[a.target.name]:a.target.value})},[w,x]=(0,g.useState)([]),[y,z]=(0,g.useState)(!0),A=async()=>{try{z(!0);let a=await fetch(`${n}/chat-buddy?limit=100`),b=await a.json();b.buddies&&Array.isArray(b.buddies)?x(b.buddies):Array.isArray(b)?x(b):(console.error("Unexpected API response format:",b),x([]))}catch(a){console.error(a),x([])}finally{z(!1)}};(0,g.useEffect)(()=>{A()},[]);let B=({bookedSlots:a=0})=>(0,b.jsx)("div",{className:"flex gap-1 mt-2",children:Array.from({length:5}).map((c,d)=>(0,b.jsx)("span",{className:`w-4 h-4 rounded-full border flex items-center justify-center
            ${d<a?"bg-green-500 border-green-500":"bg-gray-100 border-gray-300"}`,children:d<a&&(0,b.jsx)("span",{className:"text-white text-xs",children:"âœ“"})},d))});return(0,g.useEffect)(()=>{if(!p)return;let a=w.find(a=>a._id===p);a&&a.bookedSlots>=5&&(h.default.error("Selected chat buddy is full. Please choose another."),q(""))},[w,p]),(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 py-12 px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"text-center mb-20",children:[(0,b.jsxs)("div",{className:`inline-flex items-center px-6 py-3 rounded-full ${r.className} text-white shadow-xl mb-6`,children:[(0,b.jsx)(c.Award,{className:"w-5 h-5 mr-2"}),r.title]}),(0,b.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:["Your ",(0,b.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-yellow-500 to-orange-500",children:"24/7 Chat Buddy"})]}),(0,b.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Unlimited messaging support with expert buddies to help you practice, learn, and grow every single day."}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-orange-600 mt-4",children:["â‚¹",r.price]})]}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Available Chat Buddies"}),y?(0,b.jsx)("p",{className:"text-gray-500",children:"Loading chat buddies..."}):0===w.length?(0,b.jsx)("p",{className:"text-gray-500",children:"No chat buddies available"}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"space-y-4 h-[750px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-orange-200 scrollbar-track-transparent",children:w.map(a=>(0,b.jsxs)("div",{className:`bg-white rounded-xl shadow-md p-4 flex items-start gap-4
    ${"full"===a.status?"opacity-60":""}
  `,children:[(0,b.jsx)("img",{src:a.photo||"/placeholder-avatar.png",alt:a.name,className:"w-14 h-14 rounded-full object-cover"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.name}),"full"===a.status?(0,b.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-700",children:"Full"}):(0,b.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Available"})]}),a.bio&&(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:a.bio}),(0,b.jsx)(B,{bookedSlots:a.bookedSlots}),a.bookedSlots>=5&&(0,b.jsx)("p",{className:"text-xs text-red-600 mt-2 font-medium",children:"This chat buddy is fully booked."})]})]},a._id))})})]}),(0,b.jsx)("div",{className:"lg:sticky lg:top8 lg:h-screen lg:flex lg:flex-col lg:justify-center",children:(0,b.jsxs)("div",{className:"bg-gradient-to-br from-white/80 to-amber-50/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/50",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsxs)("div",{className:`inline-flex items-center px-4 py-2 rounded-full ${r.className} text-white mx-auto mb-4`,children:[(0,b.jsx)(c.Award,{className:"w-4 h-4 mr-1"}),"Get Your Buddy"]}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Start Chatting Today"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Connect with your personal chat buddy"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:["â‚¹",r.price]})]}),(0,b.jsxs)("form",{ref:a,onSubmit:u,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(f.Label,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Full Name"}),(0,b.jsx)(e.Input,{id:"name",name:"name",required:!0,value:i.name,onChange:v,className:"h-12 text-lg",placeholder:"Enter your full name"}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(f.Label,{htmlFor:"email",children:"Email Address"}),(0,b.jsx)(e.Input,{id:"email",name:"email",type:"email",required:!0,value:i.email,onChange:v,placeholder:"your@email.com"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(f.Label,{htmlFor:"buddy",className:"text-sm font-medium text-gray-700",children:"Select Chat Buddy"}),(0,b.jsxs)(m.Select,{value:p,onValueChange:a=>q(a),children:[(0,b.jsx)(m.SelectTrigger,{className:"h-10 text-base",children:(0,b.jsx)(m.SelectValue,{placeholder:"Choose your buddy"})}),(0,b.jsx)(m.SelectContent,{className:"max-h-[250px]",children:w.map(a=>(0,b.jsxs)(m.SelectItem,{value:a._id,disabled:a.bookedSlots>=5,children:[a.name," ",a.bookedSlots>=5?"(Full)":""]},a._id))})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(f.Label,{htmlFor:"whatsappNo",className:"text-sm font-medium text-gray-700",children:"WhatsApp Number"}),(0,b.jsx)(e.Input,{id:"whatsappNo",name:"whatsappNo",type:"tel",required:!0,pattern:"[0-9]{10}",value:i.whatsappNo,onChange:v,className:"h-12 text-lg",placeholder:"10-digit number (Primary chat)"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(f.Label,{htmlFor:"preferredTimeToChat",className:"text-sm font-medium text-gray-700",children:"Preferred Time to Call"}),(0,b.jsxs)("select",{id:"preferredTimeToCall",name:"preferredTimeToCall",required:!0,value:i.preferredTimeToCall,onChange:a=>j({...i,preferredTimeToCall:a.target.value}),className:"h-12 text-lg rounded-md border border-input bg-background px-3",children:[(0,b.jsx)("option",{value:"",children:"Select preferred time"}),(0,b.jsx)("option",{value:"morning",children:"Morning (6 AM â€“ 12 PM)"}),(0,b.jsx)("option",{value:"afternoon",children:"Afternoon (12 PM â€“ 5 PM)"}),(0,b.jsx)("option",{value:"evening",children:"Evening (5 PM â€“ 9 PM)"}),(0,b.jsx)("option",{value:"night",children:"Night (9 PM â€“ 12 AM)"}),(0,b.jsx)("option",{value:"anytime",children:"Anytime"})]})]})]}),(0,b.jsx)("div",{className:"pt-4 space-y-3",children:(0,b.jsxs)(d.Button,{type:"submit",className:"w-full h-14 text-lg font-semibold bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 shadow-xl",children:["Get Chat Buddy - â‚¹",r.price]})})]})]})})]})]}),(0,b.jsx)(l,{isOpen:s,onClose:()=>t(!1),title:"Chat Buddy Booked! ðŸŽ‰",message:"We have received your payment and booking details. Our team will contact you shortly on your WhatsApp number.",buttonText:"Awesome, thanks!"})]})}],47227)}];

//# sourceMappingURL=client_83902001._.js.map