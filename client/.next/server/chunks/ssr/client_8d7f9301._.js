module.exports=[30246,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(91981);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},39075,a=>{"use strict";let b=(0,a.i(31276).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],39075)},13260,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(19454),e=a.i(52893),f=a.i(91981);let g=d.Root,h=d.Trigger,i=d.Portal;d.Close;let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{ref:e,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...g},h)=>(0,b.jsxs)(i,{children:[(0,b.jsx)(j,{}),(0,b.jsxs)(d.Content,{ref:h,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...g,children:[c,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(e.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c}));o.displayName=d.Description.displayName,a.s(["Dialog",()=>g,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>h])},99447,a=>{"use strict";let b=(0,a.i(31276).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],99447)},38721,a=>{"use strict";let b=(0,a.i(31276).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],38721)},86168,a=>{"use strict";var b=a.i(16547),c=a.i(15723),d=a.i(9651),e=a.i(39075),f=a.i(52893),g=a.i(38721),h=a.i(99447),i=a.i(13260),j=a.i(30246);let k=({onSuccess:a})=>{let[e,f]=(0,d.useState)({name:"",website:"",email:"",phone:"",billingAddress:"",gst:"",subscriptionType:"",trialDuration:"",date:"",status:""}),[g,h]=(0,d.useState)(!1),i=a=>{f({...e,[a.target.name]:a.target.value})},k=async b=>{b.preventDefault(),h(!0);try{let b=await fetch("https://lms-v4tz.onrender.com/companies/create-company",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),c=await b.json();console.log(c),b.ok&&(f({name:"",website:"",email:"",phone:"",billingAddress:"",gst:"",subscriptionType:"",trialDuration:"",date:"",status:""}),a())}catch(a){console.error("Error:",a)}h(!1)};return(0,b.jsx)("div",{className:"h-[450px] w-[450px] overflow-y-auto ",children:(0,b.jsxs)("form",{onSubmit:k,className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(j.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500   ",placeholder:"Name",name:"name",value:e.name,onChange:i,required:!0}),(0,b.jsx)(j.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ",placeholder:"Phone",name:"phone",value:e.phone,onChange:i,required:!0}),(0,b.jsx)(j.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ",placeholder:"Website",name:"website",value:e.website,onChange:i}),(0,b.jsx)(j.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ",type:"email",placeholder:"Email",name:"email",value:e.email,onChange:i,required:!0}),(0,b.jsx)(j.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ",placeholder:"GST",name:"gst",value:e.gst,onChange:i,required:!0}),(0,b.jsxs)("select",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-card dark:border-gray-600 text-gray-500 dark:text-gray-400",name:"subscriptionType",value:e.subscriptionType,onChange:i,required:!0,children:[(0,b.jsx)("option",{value:"",className:"text-gray-500",children:"Select Subscription"}),(0,b.jsx)("option",{value:"Monthly",className:"text-gray-500",children:"Monthly"}),(0,b.jsx)("option",{value:"Quarterly",className:"text-gray-500",children:"Quarterly"}),(0,b.jsx)("option",{value:"Half-Yearly",className:"text-gray-500",children:"Half-Yearly"}),(0,b.jsx)("option",{value:"Annually",className:"text-gray-500",children:"Annually"}),(0,b.jsx)("option",{value:"Trial",className:"text-gray-500",children:"Trial"})]}),"Trial"===e.subscriptionType&&(0,b.jsx)(j.Input,{className:"w-full p-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:border-gray-600 dark:text-gray-400 bg-transparent",placeholder:"Trial Duration (in days)",name:"trialDuration",value:e.trialDuration,onChange:i,required:!0}),(0,b.jsx)(j.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-card dark:border-gray-600 dark:text-gray-400 text-gray-500 ",type:"date",name:"date",value:e.date,onChange:i,required:!0}),(0,b.jsxs)("select",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-card dark:border-gray-600 dark:text-gray-400 text-gray-500 ",name:"status",value:e.status,onChange:i,required:!0,children:[(0,b.jsx)("option",{value:"",className:"text-gray-500",children:"Select Status"}),(0,b.jsx)("option",{value:"Active",className:"text-gray-500",children:"Active"}),(0,b.jsx)("option",{value:"Inactive",className:"text-gray-500",children:"Inactive"}),(0,b.jsx)("option",{value:"On-Hold",className:"text-gray-500",children:"On-Hold"})]})]}),(0,b.jsx)("textarea",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 min-h-[100px] dark:bg-card dark:border-gray-600 dark:text-white placeholder:text-gray-500",placeholder:"Billing Address",name:"billingAddress",value:e.billingAddress,onChange:i,required:!0}),(0,b.jsx)(c.Button,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white",disabled:g,children:g?"Submitting...":"Create Company"})]})})};var l=a.i(3642);a.s(["default",0,()=>{let[a,j]=(0,d.useState)([]),[m,n]=(0,d.useState)(!0),[o,p]=(0,d.useState)(null),[q,r]=(0,d.useState)(1),[s,t]=(0,d.useState)(""),[u,v]=(0,d.useState)(!1),[w,x]=(0,d.useState)(1),y=async(a=1)=>{n(!0);try{let b=await fetch(`https://lms-v4tz.onrender.com/companies/all-company?page=${a}&limit=5`),c=await b.json();j(c.companies),x(Math.ceil(c.total/5))}catch(a){p("Failed to fetch companies.")}n(!1)};(0,d.useEffect)(()=>{y(q)},[q]);let z=async a=>{try{(await fetch(`https://lms-v4tz.onrender.com/companies/${a}`,{method:"DELETE"})).ok?j(b=>b.filter(b=>b._id!==a)):console.error("Failed to delete company")}catch(a){console.error("Error deleting company:",a)}},A=a.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())||a.email.toLowerCase().includes(s.toLowerCase())||a.phone.toLowerCase().includes(s.toLowerCase())),B=A.slice((q-1)*5,5*q),C=a=>{a>=1&&a<=w&&r(a)};return m?(0,b.jsx)("div",{className:"text-center py-4",children:"Loading..."}):o?(0,b.jsx)("div",{className:"text-center py-4 text-red-500",children:o}):(0,b.jsxs)("div",{className:"container mx-auto p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Company List"}),(0,b.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",onClick:()=>v(!0),children:"Create Company"})]}),(0,b.jsx)(i.Dialog,{open:u,onOpenChange:v,children:(0,b.jsxs)(i.DialogContent,{className:"sm:max-w-[500px]",children:[(0,b.jsx)(i.DialogHeader,{className:"space-y-2",children:(0,b.jsx)(i.DialogTitle,{className:"text-lg font-medium",children:"Create New Company"})}),(0,b.jsx)(k,{onSuccess:()=>{v(!1),y()}})]})}),(0,b.jsx)("div",{className:"mb-4 relative",children:(0,b.jsxs)("div",{className:"flex items-center bg-card",children:[(0,b.jsx)(e.Search,{className:"absolute left-3 h-5 w-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search companies...",value:s,onChange:a=>t(a.target.value),className:"pl-10 pr-4 py-2 w-full rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s&&(0,b.jsx)("button",{onClick:()=>t(""),className:"absolute right-3 text-gray-500 hover:text-gray-700",children:(0,b.jsx)(f.X,{className:"h-4 w-4"})})]})}),(0,b.jsx)("div",{className:"bg-card rounded-lg shadow overflow-hidden",children:(0,b.jsxs)("table",{className:"min-w-full table-auto",children:[(0,b.jsx)("thead",{className:"dark:bg-navBackground",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscription"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-900",children:B.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-black",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:a.name}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:a.email}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:a.phone}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:a.subscriptionType}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-lg ${"Active"===a.status?"bg-green-800 text-white":"Inactive"===a.status?"bg-red-800 text-white":"bg-blue-500 text-white"}`,children:a.status})}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,b.jsx)(l.default,{href:`/admin/company/${a._id}`,children:(0,b.jsx)("button",{className:" transition-colors",children:(0,b.jsx)(g.Edit,{className:"h-5 w-5 text-blue-600 hover:text-blue-900"})})}),(0,b.jsx)("button",{onClick:()=>z(a._id),children:(0,b.jsx)(h.Trash2,{className:"h-5 w-5 ml-3 text-red-600 hover:text-red-800"})})]})]},a._id))})]})}),A.length>5&&(0,b.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,b.jsx)(c.Button,{onClick:()=>C(q-1),disabled:1===q,className:`${1===q?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),(0,b.jsxs)("span",{className:"text-gray-600",children:["Page ",q," of ",w]}),(0,b.jsx)(c.Button,{onClick:()=>C(q+1),disabled:q===w,className:`${q===w?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]})]})}],86168)}];

//# sourceMappingURL=client_8d7f9301._.js.map