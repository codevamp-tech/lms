module.exports=[50564,(a,b,c)=>{let d,e,f;var g=Object.create,h=Object.defineProperty,i=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,k=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,m=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let e of j(b))l.call(a,e)||e===c||h(a,e,{get:()=>b[e],enumerable:!(d=i(b,e))||d.enumerable});return a},n=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?h(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c,c},o={},p={default:()=>A};for(var q in p)h(o,q,{get:p[q],enumerable:!0});b.exports=m(h({},"__esModule",{value:!0}),o);var r=(f=null!=(d=a.r(9651))?g(k(d)):{},m(!e&&d&&d.__esModule?f:h(f,"default",{value:d,enumerable:!0}),d)),s=a.r(41455),t=a.r(48758);let u="undefined"!=typeof navigator,v=u&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,w=u&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||v)&&!window.MSStream,x=u&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!window.MSStream,y=/www\.dropbox\.com\/.+/,z=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/;class A extends r.Component{constructor(){super(...arguments),n(this,"onReady",(...a)=>this.props.onReady(...a)),n(this,"onPlay",(...a)=>this.props.onPlay(...a)),n(this,"onBuffer",(...a)=>this.props.onBuffer(...a)),n(this,"onBufferEnd",(...a)=>this.props.onBufferEnd(...a)),n(this,"onPause",(...a)=>this.props.onPause(...a)),n(this,"onEnded",(...a)=>this.props.onEnded(...a)),n(this,"onError",(...a)=>this.props.onError(...a)),n(this,"onPlayBackRateChange",a=>this.props.onPlaybackRateChange(a.target.playbackRate)),n(this,"onEnablePIP",(...a)=>this.props.onEnablePIP(...a)),n(this,"onDisablePIP",a=>{let{onDisablePIP:b,playing:c}=this.props;b(a),c&&this.play()}),n(this,"onPresentationModeChange",a=>{if(this.player&&(0,s.supportsWebKitPresentationMode)(this.player)){let{webkitPresentationMode:b}=this.player;"picture-in-picture"===b?this.onEnablePIP(a):"inline"===b&&this.onDisablePIP(a)}}),n(this,"onSeek",a=>{this.props.onSeek(a.target.currentTime)}),n(this,"mute",()=>{this.player.muted=!0}),n(this,"unmute",()=>{this.player.muted=!1}),n(this,"renderSourceElement",(a,b)=>"string"==typeof a?r.default.createElement("source",{key:b,src:a}):r.default.createElement("source",{key:b,...a})),n(this,"renderTrack",(a,b)=>r.default.createElement("track",{key:b,...a})),n(this,"ref",a=>{this.player&&(this.prevPlayer=this.player),this.player=a})}componentDidMount(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player);let a=this.getSource(this.props.url);a&&(this.player.src=a),(w||this.props.config.forceDisableHls)&&this.player.load()}componentDidUpdate(a){this.shouldUseAudio(this.props)!==this.shouldUseAudio(a)&&(this.removeListeners(this.prevPlayer,a.url),this.addListeners(this.player)),this.props.url===a.url||(0,s.isMediaStream)(this.props.url)||this.props.url instanceof Array||(this.player.srcObject=null)}componentWillUnmount(){this.player.removeAttribute("src"),this.removeListeners(this.player),this.hls&&this.hls.destroy()}addListeners(a){let{url:b,playsinline:c}=this.props;a.addEventListener("play",this.onPlay),a.addEventListener("waiting",this.onBuffer),a.addEventListener("playing",this.onBufferEnd),a.addEventListener("pause",this.onPause),a.addEventListener("seeked",this.onSeek),a.addEventListener("ended",this.onEnded),a.addEventListener("error",this.onError),a.addEventListener("ratechange",this.onPlayBackRateChange),a.addEventListener("enterpictureinpicture",this.onEnablePIP),a.addEventListener("leavepictureinpicture",this.onDisablePIP),a.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(b)||a.addEventListener("canplay",this.onReady),c&&(a.setAttribute("playsinline",""),a.setAttribute("webkit-playsinline",""),a.setAttribute("x5-playsinline",""))}removeListeners(a,b){a.removeEventListener("canplay",this.onReady),a.removeEventListener("play",this.onPlay),a.removeEventListener("waiting",this.onBuffer),a.removeEventListener("playing",this.onBufferEnd),a.removeEventListener("pause",this.onPause),a.removeEventListener("seeked",this.onSeek),a.removeEventListener("ended",this.onEnded),a.removeEventListener("error",this.onError),a.removeEventListener("ratechange",this.onPlayBackRateChange),a.removeEventListener("enterpictureinpicture",this.onEnablePIP),a.removeEventListener("leavepictureinpicture",this.onDisablePIP),a.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(b)||a.removeEventListener("canplay",this.onReady)}shouldUseAudio(a){return!a.config.forceVideo&&!a.config.attributes.poster&&(t.AUDIO_EXTENSIONS.test(a.url)||a.config.forceAudio)}shouldUseHLS(a){return!!x&&!!this.props.config.forceSafariHLS||!!this.props.config.forceHLS||!w&&!this.props.config.forceDisableHls&&(t.HLS_EXTENSIONS.test(a)||z.test(a))}shouldUseDASH(a){return t.DASH_EXTENSIONS.test(a)||this.props.config.forceDASH}shouldUseFLV(a){return t.FLV_EXTENSIONS.test(a)||this.props.config.forceFLV}load(a){let{hlsVersion:b,hlsOptions:c,dashVersion:d,flvVersion:e}=this.props.config;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(a)&&(0,s.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",b),"Hls").then(b=>{if(this.hls=new b(c),this.hls.on(b.Events.MANIFEST_PARSED,()=>{this.props.onReady()}),this.hls.on(b.Events.ERROR,(a,c)=>{this.props.onError(a,c,this.hls,b)}),z.test(a)){let b=a.match(z)[1];this.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",b))}else this.hls.loadSource(a);this.hls.attachMedia(this.player),this.props.onLoaded()}),this.shouldUseDASH(a)&&(0,s.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",d),"dashjs").then(b=>{this.dash=b.MediaPlayer().create(),this.dash.initialize(this.player,a,this.props.playing),this.dash.on("error",this.props.onError),3>parseInt(d)?this.dash.getDebug().setLogToBrowserConsole(!1):this.dash.updateSettings({debug:{logLevel:b.Debug.LOG_LEVEL_NONE}}),this.props.onLoaded()}),this.shouldUseFLV(a)&&(0,s.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",e),"flvjs").then(b=>{this.flv=b.createPlayer({type:"flv",url:a}),this.flv.attachMediaElement(this.player),this.flv.on(b.Events.ERROR,(a,c)=>{this.props.onError(a,c,this.flv,b)}),this.flv.load(),this.props.onLoaded()}),a instanceof Array)this.player.load();else if((0,s.isMediaStream)(a))try{this.player.srcObject=a}catch(b){this.player.src=window.URL.createObjectURL(a)}}play(){let a=this.player.play();a&&a.catch(this.props.onError)}pause(){this.player.pause()}stop(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}seekTo(a,b=!0){this.player.currentTime=a,b||this.pause()}setVolume(a){this.player.volume=a}enablePIP(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,s.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}disablePIP(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,s.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}setPlaybackRate(a){try{this.player.playbackRate=a}catch(a){this.props.onError(a)}}getDuration(){if(!this.player)return null;let{duration:a,seekable:b}=this.player;return a===1/0&&b.length>0?b.end(b.length-1):a}getCurrentTime(){return this.player?this.player.currentTime:null}getSecondsLoaded(){if(!this.player)return null;let{buffered:a}=this.player;if(0===a.length)return 0;let b=a.end(a.length-1),c=this.getDuration();return b>c?c:b}getSource(a){let b=this.shouldUseHLS(a),c=this.shouldUseDASH(a),d=this.shouldUseFLV(a);if(!(a instanceof Array||(0,s.isMediaStream)(a))&&!b&&!c&&!d)return y.test(a)?a.replace("www.dropbox.com","dl.dropboxusercontent.com"):a}render(){let{url:a,playing:b,loop:c,controls:d,muted:e,config:f,width:g,height:h}=this.props,i=this.shouldUseAudio(this.props);return r.default.createElement(i?"audio":"video",{ref:this.ref,src:this.getSource(a),style:{width:"auto"===g?g:"100%",height:"auto"===h?h:"100%"},preload:"auto",autoPlay:b||void 0,controls:d,muted:e,loop:c,...f.attributes},a instanceof Array&&a.map(this.renderSourceElement),f.tracks.map(this.renderTrack))}}n(A,"displayName","FilePlayer"),n(A,"canPlay",t.canPlay.file)}];

//# sourceMappingURL=1e749_react-player_lib_players_FilePlayer_ac4f9045.js.map