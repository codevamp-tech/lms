module.exports=[30246,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(91981);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},1929,29866,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(87564),e=a.i(81364);function f(a){return a}function g(a){return a.state.isPaused}function h(a){return"success"===a.state.status}function i(a){return!0}function j(a,b={}){let c=b.shouldDehydrateMutation??a.getDefaultOptions().dehydrate?.shouldDehydrateMutation??g,d=a.getMutationCache().getAll().flatMap(a=>c(a)?[{mutationKey:a.options.mutationKey,state:a.state,...a.options.scope&&{scope:a.options.scope},...a.meta&&{meta:a.meta}}]:[]),k=b.shouldDehydrateQuery??a.getDefaultOptions().dehydrate?.shouldDehydrateQuery??h,l=b.shouldRedactErrors??a.getDefaultOptions().dehydrate?.shouldRedactErrors??i,m=b.serializeData??a.getDefaultOptions().dehydrate?.serializeData??f;return{mutations:d,queries:a.getQueryCache().getAll().flatMap(a=>{let b;return k(a)?[{dehydratedAt:Date.now(),state:{...a.state,...void 0!==a.state.data&&{data:m(a.state.data)}},queryKey:a.queryKey,queryHash:a.queryHash,..."pending"===a.state.status&&{promise:(b=a.promise?.then(m).catch(a=>l(a)?Promise.reject(Error("redacted")):Promise.reject(a)),b?.catch(e.noop),b)},...a.meta&&{meta:a.meta}}]:[]})}}function k(a,b,c){if("object"!=typeof b||null===b)return;let g=a.getMutationCache(),h=a.getQueryCache(),i=c?.defaultOptions?.deserializeData??a.getDefaultOptions().hydrate?.deserializeData??f,j=b.mutations||[],k=b.queries||[];j.forEach(({state:b,...d})=>{g.build(a,{...a.getDefaultOptions().hydrate?.mutations,...c?.defaultOptions?.mutations,...d},b)}),k.forEach(({queryKey:b,state:f,queryHash:g,meta:j,promise:k,dehydratedAt:l})=>{let m=k?(0,d.tryResolveSync)(k):void 0,n=void 0===f.data?m?.data:f.data,o=void 0===n?n:i(n),p=h.get(g),q=p?.state.status==="pending",r=p?.state.fetchStatus==="fetching";if(p){let a=m&&void 0!==l&&l>p.state.dataUpdatedAt;if(f.dataUpdatedAt>p.state.dataUpdatedAt||a){let{fetchStatus:a,...b}=f;p.setState({...b,data:o})}}else p=h.build(a,{...a.getDefaultOptions().hydrate?.queries,...c?.defaultOptions?.queries,queryKey:b,queryHash:g,meta:j},{...f,data:o,fetchStatus:"idle",status:void 0!==o?"success":f.status});k&&!q&&!r&&(void 0===l||l>p.state.dataUpdatedAt)&&p.fetch(void 0,{initialPromise:Promise.resolve(k).then(i)}).catch(e.noop)})}a.s(["dehydrate",()=>j,"hydrate",()=>k],29866);var l=a.i(56933),m=({children:a,options:b={},state:d,queryClient:e})=>{let f=(0,l.useQueryClient)(e),g=c.useRef(b);c.useEffect(()=>{g.current=b});let h=c.useMemo(()=>{if(d){if("object"!=typeof d)return;let a=f.getQueryCache(),b=d.queries||[],c=[],e=[];for(let d of b){let b=a.get(d.queryHash);b?(d.state.dataUpdatedAt>b.state.dataUpdatedAt||d.promise&&"pending"!==b.state.status&&"fetching"!==b.state.fetchStatus&&void 0!==d.dehydratedAt&&d.dehydratedAt>b.state.dataUpdatedAt)&&e.push(d):c.push(d)}if(c.length>0&&k(f,{queries:c},g.current),e.length>0)return e}},[f,d]);return c.useEffect(()=>{h&&k(f,{queries:h},g.current)},[f,h]),a};function n(a){return(0,b.jsx)(m,{...a})}a.s(["Hydrate",()=>n],1929)},79246,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(15723),e=a.i(30246),f=a.i(54949),g=a.i(3642);a.s(["default",0,()=>{let{companyId:a}=(0,f.useParams)(),h=(0,f.useRouter)(),[i,j]=(0,c.useState)({name:"",website:"",email:"",phone:"",billingAddress:"",gst:"",subscriptionType:"",trialDuration:"",date:"",status:""}),[k,l]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{try{let b=await fetch(`https://lms-v4tz.onrender.com/companies/${a}`),c=await b.json();j({name:c.name,website:c.website||"",email:c.email,phone:c.phone,billingAddress:c.billingAddress,gst:c.gst,trialDuration:c.trialDuration||"",subscriptionType:c.subscriptionType,date:c.date?c.date.split("T")[0]:"",status:c.status}),l(!1)}catch(a){console.error("Error fetching company data:",a),l(!1)}})()},[a]);let m=a=>{j({...i,[a.target.name]:a.target.value})},n=async b=>{b.preventDefault(),l(!0);try{let b=await fetch(`https://lms-v4tz.onrender.com/companies/edit-company/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),c=await b.json();console.log("Update successful:",c),h.push("/admin/company")}catch(a){console.error("Error:",a)}l(!1)};return k?(0,b.jsx)("div",{className:"text-center py-4",children:"Loading..."}):(0,b.jsx)("div",{className:"h-[450px] w-full overflow-y-auto",children:(0,b.jsxs)("form",{onSubmit:n,className:"p-6 space-y-4 bg-card rounded-lg",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(e.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Company Name",name:"name",value:i.name,onChange:m,required:!0}),(0,b.jsx)(e.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone Number",name:"phone",value:i.phone,onChange:m,required:!0}),(0,b.jsx)(e.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Website",name:"website",value:i.website,onChange:m}),(0,b.jsx)(e.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",type:"email",placeholder:"Email Address",name:"email",value:i.email,onChange:m,required:!0}),(0,b.jsx)(e.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"GST Number",name:"gst",value:i.gst,onChange:m,required:!0}),(0,b.jsxs)("select",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-card dark:border-gray-600  dark:text-gray-400",name:"subscriptionType",value:i.subscriptionType,onChange:m,required:!0,children:[(0,b.jsx)("option",{value:"Monthly",className:"text-gray-500",children:"Monthly"}),(0,b.jsx)("option",{value:"Quarterly",className:"text-gray-500",children:"Quarterly"}),(0,b.jsx)("option",{value:"Half-Yearly",className:"text-gray-500",children:"Half-Yearly"}),(0,b.jsx)("option",{value:"Annually",className:"text-gray-500",children:"Annually"}),(0,b.jsx)("option",{value:"Trial",className:"text-gray-500",children:"Trial"})]}),"Trial"===i.subscriptionType&&(0,b.jsx)(e.Input,{className:"w-full p-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:border-gray-600 dark:text-gray-400 bg-transparent",placeholder:"Trial Duration (in days)",name:"trialDuration",value:i.trialDuration,onChange:m,required:!0}),(0,b.jsx)(e.Input,{className:"w-full p-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:border-gray-600 dark:text-gray-400 bg-transparent",type:"date",name:"date",value:i.date,onChange:m,required:!0}),(0,b.jsxs)("select",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-card dark:border-gray-600 dark:text-gray-400   ",name:"status",value:i.status,onChange:m,required:!0,children:[(0,b.jsx)("option",{value:"Active",className:"text-gray-500",children:"Active"}),(0,b.jsx)("option",{value:"Inactive",className:"text-gray-500",children:"Inactive"}),(0,b.jsx)("option",{value:"On-Hold",className:"text-gray-500",children:"On-Hold"})]})]}),(0,b.jsx)("textarea",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 min-h-[100px] dark:bg-card dark:border-gray-600 dark:text-white placeholder:text-gray-500",placeholder:"Billing Address",name:"billingAddress",value:i.billingAddress,onChange:m,required:!0}),(0,b.jsx)(d.Button,{type:"submit",disabled:k,children:k?"Updating...":"Update Company"}),(0,b.jsx)(g.default,{href:"/admin/company",children:(0,b.jsx)("button",{className:"ml-4 border border-black px-3 py-1 rounded",children:"Cancel"})})]})})}])}];

//# sourceMappingURL=client_b4f4d786._.js.map