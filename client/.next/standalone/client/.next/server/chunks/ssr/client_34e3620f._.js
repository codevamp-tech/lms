module.exports=[39075,a=>{"use strict";let b=(0,a.i(31276).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],39075)},64192,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(39075),e=a.i(52893),f=a.i(85200);let g="https://lms-v4tz.onrender.com";function h(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)({name:"",email:"",number:""}),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(1),[s,t]=(0,c.useState)(1),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(!1),y=async(a=1)=>{j(!0);try{let b=await fetch(`${g}/users/students?page=${a}&limit=10`);if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);let c=await b.json();c.success&&Array.isArray(c.students)?(h(c.students),t(c.totalPages||1)):f.default.error("Unexpected response format")}catch(a){console.error("Error fetching students:",a),f.default.error(a.message||"Failed to fetch students")}finally{j(!1)}};(0,c.useEffect)(()=>{y(q)},[q]);let z=a=>{n({...m,[a.target.name]:a.target.value})},A=async()=>{if(k){p(!0);try{if(!(await fetch(`${g}/users/students/${k._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok)throw Error("Failed to update student");f.default.success("Student updated successfully"),l(null),y(q)}catch(a){f.default.error(a.message||"Failed to update student")}finally{p(!1)}}},B=a=>{a>=1&&a<=s&&r(a)},C=a.filter(a=>a.name.toLowerCase().includes(u.toLowerCase())||a.email.toLowerCase().includes(u.toLowerCase()));return(0,b.jsxs)("div",{className:"p-4 md:p-6 lg:p-8 dark:bg-card",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-card rounded-lg shadow",children:[(0,b.jsxs)("div",{className:"p-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-600 dark:text-white",children:"Student List"}),(0,b.jsxs)("div",{className:"w-full md:flex-1 max-w-md relative",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 relative",children:[(0,b.jsx)(d.Search,{className:"h-5 w-5 text-gray-400 absolute left-3"}),(0,b.jsx)("input",{type:"text",placeholder:"Search students...",value:u,onChange:a=>{v(a.target.value)},onFocus:()=>x(!0),onBlur:()=>setTimeout(()=>x(!1),100),className:"pl-10 pr-8 w-full py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:text-white"}),u&&(0,b.jsx)("button",{onClick:()=>{v(""),x(!1)},className:"absolute right-3 text-gray-500 hover:text-gray-700 dark:text-gray-400",children:(0,b.jsx)(e.X,{className:"h-4 w-4"})})]}),w&&u&&(0,b.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[C.map(a=>(0,b.jsxs)("div",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",onMouseDown:()=>{v(a.email),x(!1)},children:[(0,b.jsx)("div",{className:"font-medium dark:text-white",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:a.email})]},a._id)),0===C.length&&(0,b.jsx)("div",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:"No matching students found"})]})]})]}),(0,b.jsx)("div",{className:"p-6",children:i?(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading students..."})}):0===C.length?(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:u?"No students match your search.":"No students found."})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"h-96 overflow-x-auto rounded-sm",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{children:["Name","Email","number","Date","Action"].map(a=>(0,b.jsx)("th",{className:"px-4 md:px-6 py-3 text-[12px] md:text-xs font-medium uppercase text-gray-500 dark:text-white tracking-wider text-left",children:a},a))})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:C.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-4 md:px-6 py-4 text-[12px] md:text-sm font-medium text-gray-700 dark:text-white",children:a.name}),(0,b.jsx)("td",{className:"px-4 md:px-6 py-4 text-[12px] md:text-sm text-gray-600 dark:text-gray-200",children:a.email}),(0,b.jsx)("td",{className:"px-4 md:px-6 py-4 text-[12px] md:text-sm text-gray-600 dark:text-gray-200",children:a.number||"-"}),(0,b.jsx)("td",{className:"px-4 md:px-6 py-4 text-[12px] md:text-sm text-gray-600 dark:text-gray-200",children:a.createdAt?new Date(a.createdAt).toLocaleDateString():"N/A"}),(0,b.jsx)("td",{className:"px-4 md:px-6 py-4 text-center",children:(0,b.jsx)("button",{onClick:()=>{l(a),n({name:a.name,email:a.email,number:a.number||""})},className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Edit"})})]},a._id))})]})}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-end items-center gap-3 mt-4 text-center md:text-right",children:[(0,b.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["Page ",q," of ",s]}),(0,b.jsx)("button",{onClick:()=>B(q-1),disabled:1===q,className:"w-full md:w-auto px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Previous"}),(0,b.jsx)("button",{onClick:()=>B(q+1),disabled:q===s,className:"w-full md:w-auto px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),k&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-[90%] max-w-[380px]",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Edit Student"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),(0,b.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:m.name,onChange:z,className:"w-full border border-gray-300 dark:border-gray-600 p-2 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,b.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:z,className:"w-full border border-gray-300 dark:border-gray-600 p-2 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),(0,b.jsx)("input",{type:"text",name:"number",placeholder:"Phone Number",value:m.number,onChange:z,className:"w-full border border-gray-300 dark:border-gray-600 p-2 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 mt-5",children:[(0,b.jsx)("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Cancel"}),(0,b.jsx)("button",{onClick:A,disabled:o,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:o?"Updating...":"Update"})]})]})})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=client_34e3620f._.js.map