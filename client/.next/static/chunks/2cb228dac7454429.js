(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30618,e=>{"use strict";var t=e.i(66497),s=e.i(10977),r=e.i(99681);let a=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-xl border border-gray-300 bg-card  dark:bg-navBackground  text-card-foreground shadow",e),...s}));a.displayName="Card";let l=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let o=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle";let i=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...s}));i.displayName="CardDescription";let n=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...s}));n.displayName="CardContent";let c=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s}));c.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>n,"CardDescription",()=>i,"CardFooter",()=>c,"CardHeader",()=>l,"CardTitle",()=>o])},18419,e=>{"use strict";let t=(0,e.i(43184).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],18419)},16255,e=>{"use strict";var t=e.i(66497);e.i(10977);var s=e.i(47418),r=e.i(99681);let a=(0,s.cva)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,...l}){return(0,t.jsx)("div",{className:(0,r.cn)(a({variant:s}),e),...l})}e.s(["Badge",()=>l])},17548,e=>{"use strict";var t=e.i(10977),s=e.i(72721),r=e.i(95349),a=e.i(39314),l=e.i(20215),o=class extends a.Subscribable{#e;#t=void 0;#s;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,l.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,l.hashKey)(t.mutationKey)!==(0,l.hashKey)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#l(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#l()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#a(){let e=this.#s?.state??(0,s.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#l(e){r.notifyManager.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s,r),this.#r.onSettled?.(e.data,null,t,s,r)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s,r),this.#r.onSettled?.(void 0,e.error,t,s,r))}this.listeners.forEach(e=>{e(this.#t)})})}},i=e.i(36109);function n(e,s){let a=(0,i.useQueryClient)(s),[n]=t.useState(()=>new o(a,e));t.useEffect(()=>{n.setOptions(e)},[n,e]);let c=t.useSyncExternalStore(t.useCallback(e=>n.subscribe(r.notifyManager.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),u=t.useCallback((e,t)=>{n.mutate(e,t).catch(l.noop)},[n]);if(c.error&&(0,l.shouldThrowError)(n.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}e.s(["useMutation",()=>n],17548)},8291,e=>{"use strict";var t=e.i(17548),s=e.i(49675),r=e.i(36109);e.i(93677);var a=e.i(44506);let l="https://lms-v4tz.onrender.com/courses",o=async e=>{try{let{data:t}=await a.default.post(`${l}`,e,{headers:{Authorization:"Bearer ","Content-Type":"application/json"}});return t}catch(e){throw Error(e.response?.data?.message||"Signup failed")}},i=async(e,t=1,s=7)=>{try{let{data:r}=await a.default.post(`${l}/get-creator-courses`,{userId:e,page:t,limit:s});return r}catch(e){throw Error(e.response?.data?.message||"Failed to fetch courses")}},n=async(e,t,s=1)=>{let r=new URLSearchParams({userRole:e,page:s.toString()});return"instructor"===e&&t&&r.append("userId",t),(await fetch(`${l}/alladmin?${r.toString()}`)).json()},c=async()=>{try{let{data:e}=await a.default.get(`${l}/summary`);return e}catch(e){throw Error(e.response?.data?.message||"Failed to fetch analytics")}},u=async e=>{try{return(await a.default.get(`${l}/${e}`)).data}catch(e){console.error("Error fetching course:",e)}},d=async(e,t,s)=>{try{let r=new FormData;Object.keys(t).forEach(e=>{r.append(e,t[e])}),s&&r.append("thumbnail",s);let{data:o}=await a.default.patch(`${l}/${e}`,r,{headers:{"Content-Type":"multipart/form-data"}});return o}catch(e){throw Error(e.response?.data?.message||"Updating Failed")}},m=async e=>{try{return(await a.default.get(`${l}/${e}/lectures`)).data}catch(e){console.error("Error fetching course:",e)}},h=async(e,t)=>{try{return(await a.default.put(`${l}/${e}/toggle-publish`,null,{headers:{Authorization:"Bearer "},params:{publish:t?.toString()}})).data.message}catch(e){throw console.error("Error toggling course publish status:",e.response?.data?.message||e.message),Error(e.response?.data?.message||"Failed to toggle publish status")}},x=async(e,t)=>{try{return(await a.default.put(`${l}/${e}/toggle-private`,null,{params:{privated:t?.toString()}})).data.message}catch(e){throw console.error("Error toggling course private status:",e.response?.data?.message||e.message),Error(e.response?.data?.message||"Failed to toggle private status")}},f=async(e=1,t=8,s)=>{try{let{data:r}=await a.default.get(`${l}/published/all`,{params:{companyId:s,page:e,limit:t}});return r}catch(e){throw console.error("Error fetching courses:",e),e}},g=async e=>{try{let{data:t}=await a.default.delete(`${l}/${e}`,{headers:{"Content-Type":"application/json"}});return t}catch(e){throw Error(e.response?.data?.message||"Deleting Failed")}};var p=e.i(72154),y=e.i(10977);e.s(["default",0,()=>{let e=(0,r.useQueryClient)(),a=(0,t.useMutation)({mutationFn:o,onSuccess:()=>{console.log("Course created successfully")},onError:e=>{console.error("Error creating course:",e)}}),l=(0,t.useMutation)({mutationFn:({courseId:e,updatedData:t,thumbnail:s})=>d(e,t,s),onSuccess:()=>{console.log("Course updated successfully")},onError:e=>{console.error("Error updating course:",e.message)}}),v=(0,t.useMutation)({mutationFn:({courseId:e,publish:t})=>h(e,t),onSuccess:()=>{console.log("Course updated successfully")},onError:e=>{console.error("Error updating course:",e.message)}}),b=(0,t.useMutation)({mutationFn:({courseId:e,privated:t})=>x(e,t),onSuccess:()=>{console.log("Course updated successfully")},onError:e=>{console.error("Error updating course:",e.message)}}),w=(0,t.useMutation)({mutationFn:({courseId:e})=>g(e),onSuccess:()=>{e.invalidateQueries({queryKey:["courses"]})},onError:e=>{p.default.error("Failed to delete course:",e)}});return{createNewCourse:a.mutate,editCourse:l.mutate,publishCourse:v.mutate,deleteCourse:w.mutate,privateCourse:b.mutate,getCreatorCoursesQuery:(e,t,r=7)=>{let a=(0,s.useQuery)({queryKey:["creatorCourses",e,t],queryFn:()=>i(e,t,r),enabled:!!e,placeholderData:e=>e,staleTime:5e3,refetchOnWindowFocus:!1});return(0,y.useEffect)(()=>{a.data&&console.log("Courses fetched successfully:",a.data)},[a.data]),(0,y.useEffect)(()=>{a.error&&console.error("Error fetching courses:",a.error)},[a.error]),a},getAdminCoursesQuery:(e,t,r)=>(0,s.useQuery)({queryKey:["courses",e,r,t],queryFn:()=>n(e,r,t),enabled:!!e}),useAnalyticsSummary:()=>(0,s.useQuery)({queryKey:["courseAnalyticsSummary"],queryFn:c,staleTime:5e3,refetchOnWindowFocus:!1}),getCourseByIdQuery:e=>{let t=(0,s.useQuery)({queryKey:["course",e],queryFn:()=>u(e),enabled:!!e,staleTime:5e3,refetchOnWindowFocus:!1});return(0,y.useEffect)(()=>{t.data&&console.log("Course fetched successfully:",t.data)},[t.data]),(0,y.useEffect)(()=>{t.error&&console.error("Error fetching course by ID:",t.error)},[t.error]),t},getCourseLecturesQuery:e=>{let t=(0,s.useQuery)({queryKey:["lectures",e],queryFn:()=>m(e),enabled:!!e});return(0,y.useEffect)(()=>{t.error&&console.error("Error fetching lectures:",t.error)},[t.error]),t},getPublishedCoursesQuery:(e,t,r,a)=>{let l=(0,s.useQuery)({queryKey:["publishedCourses",e,r],queryFn:()=>f(e,t,r),staleTime:5e3,enabled:a?.enabled});return(0,y.useEffect)(()=>{l.data&&console.log("Courses fetched successfully:",l.data)},[l.data]),(0,y.useEffect)(()=>{l.error&&console.error("Error fetching courses:",l.error)},[l.error]),l},isLoading:a.isPending,error:a.error||l.error}}],8291)},82414,e=>{"use strict";var t=e.i(66497),s=e.i(99681);function r({className:e,...r}){return(0,t.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-primary/10",e),...r})}e.s(["Skeleton",()=>r])},8015,e=>{"use strict";let t=(0,e.i(43184).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],8015)},93813,e=>{"use strict";let t=(0,e.i(43184).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],93813)},52593,e=>{"use strict";let t=(0,e.i(43184).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],52593)},24873,e=>{"use strict";let t=(0,e.i(43184).default)("StarHalf",[["path",{d:"M12 18.338a2.1 2.1 0 0 0-.987.244L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.12 2.12 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.12 2.12 0 0 0 1.597-1.16l2.309-4.679A.53.53 0 0 1 12 2",key:"2ksp49"}]]);e.s(["StarHalf",()=>t],24873)},51739,e=>{"use strict";let t=(0,e.i(43184).default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);e.s(["Video",()=>t],51739)},76690,31787,e=>{"use strict";var t=e.i(17548),s=e.i(49675),r=e.i(36109);e.i(93677);let a=e.i(44506).default.create({baseURL:"https://lms-v4tz.onrender.com"});e.s(["axiosInstance",0,a],31787);let l=async e=>(await a.post("/live-session",e)).data,o=async()=>(await a.get("/live-session")).data,i=async e=>(await a.get(`/live-session/${e}`)).data,n=async(e,t)=>(await a.put(`/live-session/${e}`,t)).data,c=async e=>{await a.delete(`/live-session/${e}`)},u=async(e,t)=>(await a.post(`/live-session/${e}/enroll`,{studentId:t})).data;var d=e.i(72154);e.s(["default",0,()=>{let e=(0,r.useQueryClient)(),a=(0,t.useMutation)({mutationFn:l,onSuccess:()=>{d.default.success("Live session created successfully"),e.invalidateQueries({queryKey:["liveSessions"]})},onError:e=>{d.default.error(e.response?.data?.message||"Failed to create live session")}}),m=(0,t.useMutation)({mutationFn:({sessionId:e,updatedData:t})=>n(e,t),onSuccess:t=>{d.default.success("Live session updated successfully"),e.setQueryData(["liveSessions"],e=>e?e.map(e=>e._id===t._id?t:e):[])},onError:e=>{d.default.error(e.response?.data?.message||"Failed to update live session")}}),h=(0,t.useMutation)({mutationFn:c,onSuccess:()=>{d.default.success("Live session deleted successfully"),e.invalidateQueries({queryKey:["liveSessions"]})},onError:e=>{d.default.error(e.response?.data?.message||"Failed to delete live session")}}),x=(0,t.useMutation)({mutationFn:({sessionId:e,studentId:t})=>u(e,t),onSuccess:()=>{d.default.success("Enrolled in live session successfully"),e.invalidateQueries({queryKey:["liveSessions"]})},onError:e=>{d.default.error(e.response?.data?.message||"Failed to enroll in live session")}});return{getLiveSessionsQuery:()=>(0,s.useQuery)({queryKey:["liveSessions"],queryFn:o}),getLiveSessionByIdQuery:e=>(0,s.useQuery)({queryKey:["liveSession",e],queryFn:()=>i(e),enabled:!!e}),createLiveSession:a.mutate,updateLiveSession:m.mutate,deleteLiveSession:h.mutate,enrollLiveSession:x.mutate}}],76690)},78577,e=>{"use strict";var t=e.i(66497),s=e.i(55652),r=e.i(16255),a=e.i(30618),l=e.i(52593),o=e.i(24873),i=e.i(10977),n=e.i(16870);let c=({rating:e})=>{let s=Math.floor(e),r=e-s>=.5;return(0,t.jsxs)("div",{className:"flex",children:[Array.from({length:s}).map((e,s)=>(0,t.jsx)(l.Star,{className:"h-5 w-5 text-yellow-500 fill-current"},`full-${s}`)),r&&(0,t.jsx)(o.StarHalf,{className:"h-5 w-5 text-yellow-500 fill-current "},"half"),Array.from({length:5-s-!!r}).map((e,s)=>(0,t.jsx)(l.Star,{className:"h-5 w-5 text-gray-300"},`empty-${s}`))]})};e.s(["default",0,({course:e,userId:l})=>{let[o,u]=(0,i.useState)(null),[d,m]=(0,i.useState)(0),[h,x]=(0,i.useState)(!1),[f,g]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{async function t(){try{let t=await fetch(`https://lms-v4tz.onrender.com/ratings/${e._id}`);if(!t.ok)throw Error("Failed to fetch rating");let s=await t.json();u(s)}catch(e){console.error("Error fetching rating:",e)}}async function s(){if(l)try{let t=await fetch("https://lms-v4tz.onrender.com/favorites/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:l,courseId:e._id})});if(!t.ok)throw Error("Failed to check favorite status");let s=await t.json();x(s.isFavorite)}catch(e){console.error("Error checking favorite status:",e)}}e&&e._id&&(t(),s()),e.courseMRP&&e.coursePrice&&m(Math.round((e.courseMRP-e.coursePrice)/e.courseMRP*100))},[e,l]),(0,t.jsx)(n.default,{href:`/course/course-detail/${e._id}`,children:(0,t.jsxs)(a.Card,{className:"overflow-hidden rounded-lg dark:bg-gray-800 bg-white shadow-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:e.courseThumbnail,alt:"course",className:"w-full h-36 object-cover rounded-t-lg"}),d>0&&(0,t.jsxs)("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-2 py-1 text-xs font-bold rounded-tr-lg rounded-bl-lg",children:[d,"% OFF"]})]}),(0,t.jsxs)(a.CardContent,{className:"px-5 py-4 space-y-3",children:[(0,t.jsx)("h1",{className:"hover:underline font-bold text-lg truncate",children:e.courseTitle}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(s.Avatar,{className:"h-8 w-8",children:[(0,t.jsx)(s.AvatarImage,{src:e.creator?.photoUrl||"https://github.com/shadcn.png",alt:"creator"}),(0,t.jsx)(s.AvatarFallback,{children:"CN"})]}),(0,t.jsx)("h1",{className:"font-medium text-sm",children:e.creator?.name})]}),(0,t.jsx)(r.Badge,{className:`px-2 py-1 text-xs rounded-full ${(e=>{switch(e?.toLowerCase()||""){case"beginner":return"bg-green-700 text-white";case"intermediate":case"medium":return"bg-blue-600 text-white";case"advance":return"bg-red-700 text-white";default:return"bg-gray-100 text-gray-800"}})(e.courseLevel)}`,children:e.courseLevel})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-lg font-bold",children:["₹",e.coursePrice]}),e.courseMRP>e.coursePrice&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"text-gray-500 line-through text-sm",children:["₹",e.courseMRP]}),(0,t.jsxs)("span",{className:"text-green-600 text-sm font-medium",children:["(",d,"% off)"]})]})]}),o?(0,t.jsxs)("div",{className:"mt-2 flex items-center",children:[(0,t.jsx)(c,{rating:o.average}),(0,t.jsxs)("span",{className:"text-gray-600 text-sm ml-2 ",children:["(",o.count," reviews)"]})]}):(0,t.jsx)("div",{className:"mt-2 text-gray-600 text-sm",children:"No ratings yet"})]})]})})}])},1315,e=>{"use strict";var t=e.i(66497),s=e.i(82414),r=e.i(10977),a=e.i(8291),l=e.i(76690),o=e.i(95818),i=e.i(78577),n=e.i(18419),c=e.i(75224),u=e.i(51739),d=e.i(8015),m=e.i(93813),h=e.i(3139),x=e.i(30618),f=e.i(16870);let g=({session:e,status:s,isEnrolled:r,countdown:a})=>(0,t.jsx)(f.default,{href:"/enroll-live",children:(0,t.jsxs)(x.Card,{className:"overflow-hidden rounded-lg dark:bg-gray-800 bg-white shadow-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-300 cursor-pointer",children:[e.imageUrl&&(0,t.jsxs)("div",{className:"relative h-40 sm:h-48 overflow-hidden",children:[(0,t.jsx)("img",{src:e.imageUrl||"/placeholder.svg",alt:e.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),(0,t.jsx)("span",{className:"absolute top-2 right-2 bg-blue-600 text-white text-xs font-semibold px-2 py-1 rounded",children:"UPCOMING"})]}),(0,t.jsxs)("div",{className:"p-4 sm:p-5 flex flex-col h-full",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm sm:text-base text-slate-900 dark:text-white mb-3 line-clamp-2",children:e.title}),(0,t.jsxs)("div",{className:"space-y-2 mb-3 text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:[(0,t.jsxs)("p",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Calendar,{className:"w-4 h-4 text-blue-500"}),(0,t.jsxs)("span",{children:[new Date(e.date).toLocaleDateString([],{month:"short",day:"numeric"})," ","at"," ",new Date(e.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,t.jsxs)("p",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Clock,{className:"w-4 h-4 text-purple-500"}),(0,t.jsxs)("span",{children:[e.duration," minutes"]})]})]}),(0,t.jsxs)("div",{className:"mb-3 text-sm font-medium text-blue-600 dark:text-blue-400",children:["Starts in ",a]}),(0,t.jsxs)("div",{className:"mt-auto text-lg sm:text-xl font-bold text-green-600 dark:text-green-400",children:["₹",e.price.toLocaleString()]})]})]})}),p=({icon:e,title:s,description:r})=>(0,t.jsxs)("div",{className:"col-span-full flex flex-col items-center justify-center py-12 sm:py-16",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-2xl flex items-center justify-center mb-4",children:(0,t.jsx)(e,{className:"w-8 h-8 text-slate-400 dark:text-slate-500"})}),(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-white mb-2",children:s}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400 text-sm sm:text-base",children:r})]}),y=()=>(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)(s.Skeleton,{className:"h-12 w-48 mx-auto mb-3"}),(0,t.jsx)(s.Skeleton,{className:"h-5 w-96 mx-auto"})]}),(0,t.jsxs)("div",{className:"mb-16",children:[(0,t.jsx)(s.Skeleton,{className:"h-8 w-32 mb-8"}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((e,s)=>(0,t.jsx)(v,{},s))})]})]})}),v=()=>(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg overflow-hidden shadow-sm",children:[(0,t.jsx)(s.Skeleton,{className:"w-full h-40 sm:h-48"}),(0,t.jsxs)("div",{className:"p-4 sm:p-5 space-y-3",children:[(0,t.jsx)(s.Skeleton,{className:"h-5 w-3/4"}),(0,t.jsx)(s.Skeleton,{className:"h-4 w-full"}),(0,t.jsxs)("div",{className:"flex justify-between pt-2",children:[(0,t.jsx)(s.Skeleton,{className:"h-4 w-1/3"}),(0,t.jsx)(s.Skeleton,{className:"h-4 w-1/4"})]})]})]}),b=()=>(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg overflow-hidden shadow-sm border-l-4 border-blue-500",children:[(0,t.jsx)(s.Skeleton,{className:"w-full h-40 sm:h-48"}),(0,t.jsxs)("div",{className:"p-4 sm:p-5 space-y-3",children:[(0,t.jsx)(s.Skeleton,{className:"h-5 w-3/4"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Skeleton,{className:"h-4 w-full"}),(0,t.jsx)(s.Skeleton,{className:"h-4 w-2/3"})]}),(0,t.jsx)(s.Skeleton,{className:"h-6 w-1/3 mt-4"}),(0,t.jsx)(s.Skeleton,{className:"h-10 w-full mt-4"})]})]});e.s(["default",0,()=>{let e=(0,h.useRouter)(),[s,d]=(0,r.useState)(""),[m,x]=(0,r.useState)(!1),[f,w]=(0,r.useState)(1),j=(0,r.useRef)(null),N=(0,r.useRef)(null),[S,k]=(0,r.useState)(null),[C,E]=(0,r.useState)(!1),[M,F]=(0,r.useState)(new Date);(0,r.useEffect)(()=>{k(localStorage.getItem("companyId")),E(!0);let e=setInterval(()=>F(new Date),1e3);return()=>clearInterval(e)},[]);let{getPublishedCoursesQuery:R}=(0,a.default)(),{getLiveSessionsQuery:L}=(0,l.default)(),O=(0,o.getUserIdFromToken)(),{data:$,isLoading:T}=R(f,8,S),{data:Q,isLoading:K}=L(),q=$?.courses?.filter(e=>!e.isPrivate)||[];[...new Set(q.map(e=>e.category))];let A=S?$?.courses?.filter(e=>!!m||e.companyId===S):q,P=s?A.filter(e=>e.category===s):A;return((0,r.useEffect)(()=>{if(!T)return j.current&&j.current.disconnect(),j.current=new IntersectionObserver(e=>{e[0].isIntersecting&&f<$?.totalPages&&w(e=>e+1)},{threshold:.1}),N.current&&j.current.observe(N.current),()=>{j.current&&j.current.disconnect()}},[T,f,$?.totalPages]),(0,r.useEffect)(()=>{w(1)},[s]),C)?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 sm:pt-6",children:(0,t.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center gap-2 text-slate-600 hover:text-blue-600 dark:text-slate-400 dark:hover:text-blue-400 transition-colors group",children:[(0,t.jsx)(n.ArrowLeft,{className:"w-4 h-4 sm:w-5 sm:h-5 transform group-hover:-translate-x-1 transition-transform"}),(0,t.jsx)("span",{className:"text-sm sm:text-base font-medium",children:"Back"})]})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[(0,t.jsxs)("section",{className:"mb-4 sm:mb-5",children:[(0,t.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-8 sm:mb-10",children:(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:"Recorded Courses"})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 auto-rows-max",children:[T&&$?.courses?.length===0?Array.from({length:8}).map((e,s)=>(0,t.jsx)(v,{},s)):P?.length>0?P.map(e=>(0,t.jsx)(i.default,{course:e,userId:O},e._id)):(0,t.jsx)("div",{className:"col-span-full",children:(0,t.jsx)(p,{icon:c.BookOpen,title:"No recorded courses available",description:"Check back soon for more on-demand content"})}),T&&$?.courses?.length>0&&(0,t.jsx)("div",{className:"col-span-full flex justify-center py-8",children:(0,t.jsxs)("div",{className:"animate-pulse flex space-x-2",children:[(0,t.jsx)("div",{className:"rounded-full bg-slate-200 dark:bg-slate-700 h-3 w-3"}),(0,t.jsx)("div",{className:"rounded-full bg-slate-200 dark:bg-slate-700 h-3 w-3 animation-delay-200"}),(0,t.jsx)("div",{className:"rounded-full bg-slate-200 dark:bg-slate-700 h-3 w-3 animation-delay-400"})]})}),(0,t.jsx)("div",{ref:N,className:"h-10 w-full"})]})]}),(0,t.jsxs)("section",{className:"mt-4",children:[(0,t.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-8 sm:mb-10",children:(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:"Live  Sessions"})})})}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 auto-rows-max",children:K?Array.from({length:6}).map((e,s)=>(0,t.jsx)(b,{},s)):Q&&Q.length>0?Q.filter(e=>{let t,s,r;return"upcoming"==(s=new Date((t=new Date(e.date)).getTime()+6e4*e.duration),M<(r=new Date(t.getTime()-18e5))?"upcoming":M>=r&&M<=s?"live":"completed")}).map(e=>{let s=e.enrolledUsers?.includes(O);return(0,t.jsx)(g,{session:e,status:"upcoming",isEnrolled:s,countdown:(e=>{let t=new Date(e.date).getTime()-M.getTime();if(t<=0)return"Starting Soon...";let s=Math.floor(t/36e5),r=Math.floor(t/6e4%60);return`${s}h ${r}m`})(e)},e._id)}):(0,t.jsx)("div",{className:"col-span-full",children:(0,t.jsx)(p,{icon:u.Video,title:"No live sessions scheduled",description:"New sessions will be added soon"})})})]})]})]}):(0,t.jsx)(y,{})}])}]);