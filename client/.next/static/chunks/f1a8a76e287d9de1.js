(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1242,e=>{"use strict";var t=e.i(66497),r=e.i(10977),a=e.i(99681);let s=r.forwardRef(({className:e,type:r,...s},i)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));s.displayName="Input",e.s(["Input",()=>s])},82133,e=>{"use strict";var t=e.i(66497),r=e.i(10977),a=e.i(28873),s=r.forwardRef((e,r)=>(0,t.jsx)(a.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var i=e.i(47418),o=e.i(99681);let n=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(s,{ref:a,className:(0,o.cn)(n(),e),...r}));u.displayName=s.displayName,e.s(["Label",()=>u],82133)},17548,e=>{"use strict";var t=e.i(10977),r=e.i(72721),a=e.i(95349),s=e.i(39314),i=e.i(20215),o=class extends s.Subscribable{#e;#t=void 0;#r;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,i.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,i.hashKey)(t.mutationKey)!==(0,i.hashKey)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#i()}mutate(e,t){return this.#a=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#s(){let e=this.#r?.state??(0,r.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){a.notifyManager.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#a.onSuccess?.(e.data,t,r,a),this.#a.onSettled?.(e.data,null,t,r,a)):e?.type==="error"&&(this.#a.onError?.(e.error,t,r,a),this.#a.onSettled?.(void 0,e.error,t,r,a))}this.listeners.forEach(e=>{e(this.#t)})})}},n=e.i(36109);function u(e,r){let s=(0,n.useQueryClient)(r),[u]=t.useState(()=>new o(s,e));t.useEffect(()=>{u.setOptions(e)},[u,e]);let l=t.useSyncExternalStore(t.useCallback(e=>u.subscribe(a.notifyManager.batchCalls(e)),[u]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),d=t.useCallback((e,t)=>{u.mutate(e,t).catch(i.noop)},[u]);if(l.error&&(0,i.shouldThrowError)(u.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:d,mutateAsync:l.mutate}}e.s(["useMutation",()=>u],17548)},93656,72232,e=>{"use strict";var t=e.i(66497),r=e.i(10977);e.i(93677);var a=e.i(28261),s=e.i(20215);function i(e){return e}function o(e){return e.state.isPaused}function n(e){return"success"===e.state.status}function u(e){return!0}function l(e,t={}){let r=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??o,a=e.getMutationCache().getAll().flatMap(e=>r(e)?[{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}]:[]),d=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??n,c=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??u,h=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??i;return{mutations:a,queries:e.getQueryCache().getAll().flatMap(e=>{let t;return d(e)?[{dehydratedAt:Date.now(),state:{...e.state,...void 0!==e.state.data&&{data:h(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,..."pending"===e.state.status&&{promise:(t=e.promise?.then(h).catch(e=>c(e)?Promise.reject(Error("redacted")):Promise.reject(e)),t?.catch(s.noop),t)},...e.meta&&{meta:e.meta}}]:[]})}}function d(e,t,r){if("object"!=typeof t||null===t)return;let o=e.getMutationCache(),n=e.getQueryCache(),u=r?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??i,l=t.mutations||[],d=t.queries||[];l.forEach(({state:t,...a})=>{o.build(e,{...e.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...a},t)}),d.forEach(({queryKey:t,state:i,queryHash:o,meta:l,promise:d,dehydratedAt:c})=>{let h=d?(0,a.tryResolveSync)(d):void 0,f=void 0===i.data?h?.data:i.data,p=void 0===f?f:u(f),m=n.get(o),y=m?.state.status==="pending",v=m?.state.fetchStatus==="fetching";if(m){let e=h&&void 0!==c&&c>m.state.dataUpdatedAt;if(i.dataUpdatedAt>m.state.dataUpdatedAt||e){let{fetchStatus:e,...t}=i;m.setState({...t,data:p})}}else m=n.build(e,{...e.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:t,queryHash:o,meta:l},{...i,data:p,fetchStatus:"idle",status:void 0!==p?"success":i.status});d&&!y&&!v&&(void 0===c||c>m.state.dataUpdatedAt)&&m.fetch(void 0,{initialPromise:Promise.resolve(d).then(u)}).catch(s.noop)})}e.s(["dehydrate",()=>l,"hydrate",()=>d],72232);var c=e.i(36109),h=({children:e,options:t={},state:a,queryClient:s})=>{let i=(0,c.useQueryClient)(s),o=r.useRef(t);r.useEffect(()=>{o.current=t});let n=r.useMemo(()=>{if(a){if("object"!=typeof a)return;let e=i.getQueryCache(),t=a.queries||[],r=[],s=[];for(let a of t){let t=e.get(a.queryHash);t?(a.state.dataUpdatedAt>t.state.dataUpdatedAt||a.promise&&"pending"!==t.state.status&&"fetching"!==t.state.fetchStatus&&void 0!==a.dehydratedAt&&a.dehydratedAt>t.state.dataUpdatedAt)&&s.push(a):r.push(a)}if(r.length>0&&d(i,{queries:r},o.current),s.length>0)return s}},[i,a]);return r.useEffect(()=>{n&&d(i,{queries:n},o.current)},[i,n]),e};function f(e){return(0,t.jsx)(h,{...e})}e.s(["Hydrate",()=>f],93656)},30618,e=>{"use strict";var t=e.i(66497),r=e.i(10977),a=e.i(99681);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("rounded-xl border border-gray-300 bg-card  dark:bg-navBackground  text-card-foreground shadow",e),...r}));s.displayName="Card";let i=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let o=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("font-semibold leading-none tracking-tight",e),...r}));o.displayName="CardTitle";let n=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));n.displayName="CardDescription";let u=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...r}));u.displayName="CardContent";let l=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r}));l.displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>u,"CardDescription",()=>n,"CardFooter",()=>l,"CardHeader",()=>i,"CardTitle",()=>o])},18419,e=>{"use strict";let t=(0,e.i(43184).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],18419)},65752,e=>{"use strict";let t=(0,e.i(43184).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],65752)},95110,e=>{"use strict";var t=e.i(66497),r=e.i(10977),a=e.i(28873),s="Progress",[i,o]=function(e,a=[]){let s=[],i=()=>{let t=s.map(e=>r.createContext(e));return function(a){let s=a?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:s}}),[a,s])}};return i.scopeName=e,[function(a,i){let o=r.createContext(i),n=s.length;function u(a){let{scope:s,children:i,...u}=a,l=s?.[e][n]||o,d=r.useMemo(()=>u,Object.values(u));return(0,t.jsx)(l.Provider,{value:d,children:i})}return s=[...s,i],u.displayName=a+"Provider",[u,function(t,s){let u=s?.[e][n]||o,l=r.useContext(u);if(l)return l;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${a}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=a.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return a.scopeName=t.scopeName,a}(i,...a)]}(s),[n,u]=i(s),l=r.forwardRef((e,r)=>{var s,i;let{__scopeProgress:o,value:u=null,max:l,getValueLabel:d=h,...c}=e;(l||0===l)&&!m(l)&&console.error((s=`${l}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let v=m(l)?l:100;null===u||y(u,v)||console.error((i=`${u}`,`Invalid prop \`value\` of value \`${i}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let g=y(u,v)?u:null,x=p(g)?d(g,v):void 0;return(0,t.jsx)(n,{scope:o,value:g,max:v,children:(0,t.jsx)(a.Primitive.div,{"aria-valuemax":v,"aria-valuemin":0,"aria-valuenow":p(g)?g:void 0,"aria-valuetext":x,role:"progressbar","data-state":f(g,v),"data-value":g??void 0,"data-max":v,...c,ref:r})})});l.displayName=s;var d="ProgressIndicator",c=r.forwardRef((e,r)=>{let{__scopeProgress:s,...i}=e,o=u(d,s);return(0,t.jsx)(a.Primitive.div,{"data-state":f(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...i,ref:r})});function h(e,t){return`${Math.round(e/t*100)}%`}function f(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function p(e){return"number"==typeof e}function m(e){return p(e)&&!isNaN(e)&&e>0}function y(e,t){return p(e)&&!isNaN(e)&&e<=t&&e>=0}c.displayName=d;var v=e.i(99681);let g=r.forwardRef(({className:e,value:r,...a},s)=>(0,t.jsx)(l,{ref:s,className:(0,v.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...a,children:(0,t.jsx)(c,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));g.displayName=l.displayName,e.s(["Progress",()=>g],95110)},42472,78736,e=>{"use strict";e.i(93677);var t=e.i(44506);let r="https://lms-v4tz.onrender.com/lectures",a=async(e,a,s)=>{try{let{data:i}=await t.default.post(`${r}/create/${e}`,a,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});return i}catch(e){throw Error(e.response?.data?.message||"Signup failed")}},s=async e=>{try{let a=await t.default.get(`${r}/${e}`,{headers:{Authorization:"Bearer "}});return await a.data}catch(e){console.error("Error fetching lecture:",e)}},i=async e=>{try{return(await t.default.delete(`${r}/${e}`)).data}catch(e){console.error("Error fetching lecture:",e)}},o=async(e,a,s)=>{try{await t.default.patch(`${r}/edit/${a}/${e}`,s,{headers:{"Content-Type":"application/json"}})}catch(e){console.error("Error updating lecture:",e)}};var n=e.i(17548),u=e.i(49675),l=e.i(36109),d=e.i(10977);e.s(["default",0,()=>{let e=(0,l.useQueryClient)(),t=(0,n.useMutation)({mutationFn:({courseId:e,lectureData:t})=>a(e,t,t.companyId),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["lectures",r.courseId]})},onError:e=>{console.error("Error updating course:",e)}}),r=(0,n.useMutation)({mutationFn:e=>i(e),onSuccess:()=>{e.invalidateQueries({queryKey:["lectures"]})},onError:e=>{console.error("Error deleting lecture:",e.message)}}),c=(0,n.useMutation)({mutationFn:({courseId:e,lectureId:t,lectureData:r})=>o(t,e,r),onSuccess:()=>{console.log("Lecture updated successfully")},onError:e=>{console.error("Error updating lecture:",e.message)}});return{createLecture:t.mutateAsync,deleteLecture:r.mutate,editLecture:c.mutate,getLectureByIdQuery:e=>{let t=(0,u.useQuery)({queryKey:["lecture",e],queryFn:()=>s(e),enabled:!!e,staleTime:5e3,refetchOnWindowFocus:!1});return(0,d.useEffect)(()=>{t.data&&console.log("Lecture fetched successfully:",t.data)},[t.data]),(0,d.useEffect)(()=>{t.error&&console.error("Error fetching lecture by ID:",t.error)},[t.error]),t}}}],42472);let c=async e=>{let r=new FormData;r.append("file",e);try{let{data:e}=await t.default.post("https://lms-v4tz.onrender.com/video-upload",r,{headers:{"Content-Type":"multipart/form-data"}});return e}catch(e){throw Error(e.response?.data?.message||"Uploading Failed")}};e.s(["videoUpload",0,c],78736)},88940,e=>{"use strict";var t=e.i(66497),r=e.i(57445),a=e.i(18419),s=e.i(10977),i=e.i(16870),o=e.i(3139),n=e.i(30618),u=e.i(1242),l=e.i(82133),d=e.i(95110),c=e.i(65752),h=e.i(42472),f=e.i(78736),p=e.i(72154);let m=()=>{let[e,a]=(0,s.useState)(""),[i,m]=(0,s.useState)(""),[y,v]=(0,s.useState)(!1),[g,x]=(0,s.useState)(0),[b,j]=(0,s.useState)(!1),{lectureId:w,courseId:C}=(0,o.useParams)(),{getLectureByIdQuery:N,deleteLecture:M,editLecture:O}=(0,h.default)(),E=(0,o.useRouter)(),{data:R,isLoading:D,error:L,refetch:P}=N(w);(0,s.useEffect)(()=>{R&&(a(R.lectureTitle),j(R.isPreviewFree),m(R.videoInfo?.videoUrl||R.link||""),P())},[R,P]);let S=async e=>{let t=e.target.files[0];if(t)try{v(!0);let e=await (0,f.videoUpload)(t);e.success&&m(e.data.url)}catch(e){console.error(e),p.default.error("Video upload failed")}finally{v(!1)}},$=async()=>{e?i?(await O({courseId:C,lectureId:w,lectureData:{lectureTitle:e,videoInfo:{videoUrl:i},isPreviewFree:b}}),p.default.success("Lecture updated successfully"),E.push(`/admin/courses/${C}/lecture`)):p.default.error("Please provide a video or a link"):p.default.error("Please provide a title")},A=async()=>{await M(w),p.default.success("Lecture removed successfully (mock)"),E.push(`/admin/courses/${C}/lecture`)};return D?(0,t.jsxs)("div",{className:"flex justify-center items-center h-full",children:[(0,t.jsx)(c.Loader2,{className:"mr-2 h-6 w-6 animate-spin"}),"Loading course data..."]}):L?(0,t.jsxs)("div",{children:["Error loading course data: ",L.message]}):(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{className:"flex flex-row justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.CardTitle,{children:"Edit Lecture"}),(0,t.jsx)(n.CardDescription,{children:"Provide basic details and upload a video or add a link for the lectures."})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(r.Button,{onClick:A,children:"Remove Lecture"})})]}),(0,t.jsxs)(n.CardContent,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{children:"Title"}),(0,t.jsx)(u.Input,{type:"text",placeholder:"Ex. Introduction to Javascript",value:e,onChange:e=>a(e.target.value)})]}),(0,t.jsxs)("div",{className:"my-5",children:[(0,t.jsx)(l.Label,{children:"Video Upload"}),(0,t.jsx)(u.Input,{type:"file",accept:"video/*",onChange:S,className:"w-fit"})]}),(0,t.jsxs)("div",{className:"my-5",children:[(0,t.jsx)(l.Label,{children:"Or Link"}),(0,t.jsx)(u.Input,{type:"url",placeholder:"Paste a video URL here",value:i,onChange:e=>{m(e.target.value)},className:"w-fit"})]}),y&&(0,t.jsxs)("div",{className:"my-4",children:[(0,t.jsx)(d.Progress,{value:g}),(0,t.jsxs)("p",{children:[g,"% uploaded"]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(r.Button,{onClick:$,children:"Update Lecture"})})]})]})};e.s(["default",0,()=>{let{courseId:e}=(0,o.useParams)();return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.default,{href:`/admin/courses/${e}/lecture`,children:(0,t.jsx)(r.Button,{size:"icon",variant:"outline",className:"rounded-full",children:(0,t.jsx)(a.ArrowLeft,{size:16})})}),(0,t.jsx)("h1",{className:"font-bold text-xl text-blue-500",children:"Update Your Lecture"})]})}),(0,t.jsx)(m,{})]})}],88940)}]);