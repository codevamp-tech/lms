(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10763,e=>{"use strict";let t=(0,e.i(43184).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],10763)},48319,e=>{"use strict";var t=e.i(66497),a=e.i(10977),r=e.i(10763),s=e.i(50738),d=e.i(72154);let l="https://lms-v4tz.onrender.com";function i(){let[e,i]=(0,a.useState)([]),[n,c]=(0,a.useState)(!0),[o,x]=(0,a.useState)(null),[m,u]=(0,a.useState)({name:"",email:"",number:""}),[g,h]=(0,a.useState)(!1),[y,b]=(0,a.useState)(1),[p,f]=(0,a.useState)(1),[j,N]=(0,a.useState)(""),[w,k]=(0,a.useState)(!1),v=async(e=1)=>{c(!0);try{let t=await fetch(`${l}/users/students?page=${e}&limit=10`);if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);let a=await t.json();a.success&&Array.isArray(a.students)?(i(a.students),f(a.totalPages||1)):d.default.error("Unexpected response format")}catch(e){console.error("Error fetching students:",e),d.default.error(e.message||"Failed to fetch students")}finally{c(!1)}};(0,a.useEffect)(()=>{v(y)},[y]);let C=e=>{u({...m,[e.target.name]:e.target.value})},S=async()=>{if(o){h(!0);try{if(!(await fetch(`${l}/users/students/${o._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok)throw Error("Failed to update student");d.default.success("Student updated successfully"),x(null),v(y)}catch(e){d.default.error(e.message||"Failed to update student")}finally{h(!1)}}},A=e=>{e>=1&&e<=p&&b(e)},E=e.filter(e=>e.name.toLowerCase().includes(j.toLowerCase())||e.email.toLowerCase().includes(j.toLowerCase()));return(0,t.jsxs)("div",{className:"p-4 md:p-6 lg:p-8 dark:bg-card",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-card rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-600 dark:text-white",children:"Student List"}),(0,t.jsxs)("div",{className:"w-full md:flex-1 max-w-md relative",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 relative",children:[(0,t.jsx)(r.Search,{className:"h-5 w-5 text-gray-400 absolute left-3"}),(0,t.jsx)("input",{type:"text",placeholder:"Search students...",value:j,onChange:e=>{N(e.target.value)},onFocus:()=>k(!0),onBlur:()=>setTimeout(()=>k(!1),100),className:"pl-10 pr-8 w-full py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:text-white"}),j&&(0,t.jsx)("button",{onClick:()=>{N(""),k(!1)},className:"absolute right-3 text-gray-500 hover:text-gray-700 dark:text-gray-400",children:(0,t.jsx)(s.X,{className:"h-4 w-4"})})]}),w&&j&&(0,t.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[E.map(e=>(0,t.jsxs)("div",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",onMouseDown:()=>{N(e.email),k(!1)},children:[(0,t.jsx)("div",{className:"font-medium dark:text-white",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.email})]},e._id)),0===E.length&&(0,t.jsx)("div",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:"No matching students found"})]})]})]}),(0,t.jsx)("div",{className:"p-6",children:n?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading students..."})}):0===E.length?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:j?"No students match your search.":"No students found."})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-96 overflow-x-auto rounded-sm",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:["Name","Email","number","Date","Action"].map(e=>(0,t.jsx)("th",{className:"px-4 md:px-6 py-3 text-[12px] md:text-xs font-medium uppercase text-gray-500 dark:text-white tracking-wider text-left",children:e},e))})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:E.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 md:px-6 py-4 text-[12px] md:text-sm font-medium text-gray-700 dark:text-white",children:e.name}),(0,t.jsx)("td",{className:"px-4 md:px-6 py-4 text-[12px] md:text-sm text-gray-600 dark:text-gray-200",children:e.email}),(0,t.jsx)("td",{className:"px-4 md:px-6 py-4 text-[12px] md:text-sm text-gray-600 dark:text-gray-200",children:e.number||"-"}),(0,t.jsx)("td",{className:"px-4 md:px-6 py-4 text-[12px] md:text-sm text-gray-600 dark:text-gray-200",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"}),(0,t.jsx)("td",{className:"px-4 md:px-6 py-4 text-center",children:(0,t.jsx)("button",{onClick:()=>{x(e),u({name:e.name,email:e.email,number:e.number||""})},className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Edit"})})]},e._id))})]})}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-end items-center gap-3 mt-4 text-center md:text-right",children:[(0,t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["Page ",y," of ",p]}),(0,t.jsx)("button",{onClick:()=>A(y-1),disabled:1===y,className:"w-full md:w-auto px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsx)("button",{onClick:()=>A(y+1),disabled:y===p,className:"w-full md:w-auto px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-[90%] max-w-[380px]",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Edit Student"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),(0,t.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:m.name,onChange:C,className:"w-full border border-gray-300 dark:border-gray-600 p-2 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,t.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:C,className:"w-full border border-gray-300 dark:border-gray-600 p-2 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),(0,t.jsx)("input",{type:"text",name:"number",placeholder:"Phone Number",value:m.number,onChange:C,className:"w-full border border-gray-300 dark:border-gray-600 p-2 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-5",children:[(0,t.jsx)("button",{onClick:()=>x(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Cancel"}),(0,t.jsx)("button",{onClick:S,disabled:g,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:g?"Updating...":"Update"})]})]})})]})}e.s(["default",()=>i])}]);