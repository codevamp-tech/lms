(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10763,e=>{"use strict";let t=(0,e.i(43184).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],10763)},8015,e=>{"use strict";let t=(0,e.i(43184).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],8015)},86e3,e=>{"use strict";let t=(0,e.i(43184).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],86e3)},66973,e=>{"use strict";let t=(0,e.i(43184).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],66973)},73794,e=>{"use strict";var t=e.i(66497),s=e.i(10977),l=e.i(10763),a=e.i(24444),r=e.i(9653),i=e.i(8015),n=e.i(86e3),c=e.i(66973);function d(){let[e,d]=(0,s.useState)([]),[o,x]=(0,s.useState)(!0),[m,h]=(0,s.useState)(""),[p,u]=(0,s.useState)(1);(0,s.useEffect)(()=>{b()},[]);let b=async()=>{try{let e=await fetch("https://lms-v4tz.onrender.com/enquiry"),t=(await e.json()).filter(e=>e.type?.toLowerCase()==="contact");d(t)}catch(e){console.error("Error fetching contact enquiries",e)}finally{x(!1)}},g=async(e,t)=>{try{await fetch(`https://lms-v4tz.onrender.com/enquiry/${e}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})}),d(s=>s.map(s=>s._id===e?{...s,status:t}:s))}catch(e){console.error("Failed to update status",e)}},j=e.filter(e=>(e.name||e.nmae||"").toLowerCase().includes(m.toLowerCase()));if(o)return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading enquiries..."})]})});let f=Math.ceil(j.length/10),N=(p-1)*10;return j.slice(N,N+10),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-4 md:p-8",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden mb-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-xl",children:(0,t.jsx)(r.Users,{className:"w-8 h-8 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-1",children:"Contact Enquiries"}),(0,t.jsx)("p",{className:"text-blue-100",children:"Manage and track all contact form submissions"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-6 bg-slate-50 border-b",children:[(0,t.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-amber-100 p-2 rounded-lg",children:(0,t.jsx)(c.AlertCircle,{className:"w-5 h-5 text-amber-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 uppercase font-medium",children:"Pending"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-slate-700",children:e.filter(e=>"pending"===e.status).length})]})]})}),(0,t.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,t.jsx)(i.Clock,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 uppercase font-medium",children:"In Progress"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-slate-700",children:e.filter(e=>"inprocess"===e.status).length})]})]})}),(0,t.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-green-100 p-2 rounded-lg",children:(0,t.jsx)(n.CheckCircle,{className:"w-5 h-5 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 uppercase font-medium",children:"Completed"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-slate-700",children:e.filter(e=>"done"===e.status).length})]})]})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"relative max-w-md",children:[(0,t.jsx)(l.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by name...",value:m,onChange:e=>h(e.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none text-slate-700"})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gradient-to-r from-slate-100 to-slate-50 border-y border-slate-200",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Name"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Email"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"WhatsApp"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Action"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-slate-100",children:[0===j.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"text-center py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-slate-100 p-4 rounded-full",children:(0,t.jsx)(l.Search,{className:"w-8 h-8 text-slate-400"})}),(0,t.jsx)("p",{className:"text-slate-500 font-medium",children:"No contact enquiries found"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Try adjusting your search criteria"})]})})}),j.map(e=>((e=>{switch(e){case"done":return{bg:"bg-green-100",text:"text-green-700",icon:n.CheckCircle,label:"Completed"};case"inprocess":return{bg:"bg-blue-100",text:"text-blue-700",icon:i.Clock,label:"In Progress"};default:return{bg:"bg-amber-100",text:"text-amber-700",icon:c.AlertCircle,label:"Pending"}}})(e.status).icon,(0,t.jsxs)("tr",{className:"hover:bg-blue-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"font-medium text-slate-800",children:e.name||e.nmae})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-slate-600 text-sm",children:e.email})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-slate-600 text-sm font-mono",children:e.whatsapp})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("select",{value:e.status,onChange:t=>g(e._id,t.target.value),className:`px-4 py-2 rounded-lg text-sm font-semibold border cursor-pointer transition-all
    ${"pending"===e.status?"bg-amber-100 text-amber-700 border-amber-200":"inprocess"===e.status?"bg-blue-100 text-blue-700 border-blue-200":"bg-green-100 text-green-700 border-green-200"}`,children:[(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"inprocess",children:"In Progress"}),(0,t.jsx)("option",{value:"done",children:"Done"})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("a",{href:`https://mail.google.com/mail/?view=cm&fs=1&to=${e.email}`,target:"_blank",className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all shadow-sm hover:shadow-md text-sm font-medium",children:[(0,t.jsx)(a.Mail,{className:"w-4 h-4"}),"Send Email"]})})]},e._id)))]})]})}),(0,t.jsx)("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200",children:(0,t.jsxs)("p",{className:"text-sm text-slate-500 text-center",children:["Showing ",(0,t.jsx)("span",{className:"font-medium text-slate-700",children:j.length})," of"," ",(0,t.jsx)("span",{className:"font-medium text-slate-700",children:e.length})," enquiries"]})}),f>1&&(0,t.jsxs)("div",{className:"flex justify-end items-center gap-2 mt-4",children:[(0,t.jsx)("button",{onClick:()=>u(e=>Math.max(e-1,1)),disabled:1===p,className:"px-3 py-1 rounded-lg border bg-white text-slate-700 disabled:opacity-50",children:"Prev"}),Array.from({length:f},(e,t)=>t+1).map(e=>(0,t.jsx)("button",{onClick:()=>u(e),className:`px-3 py-1 rounded-lg border ${p===e?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-700 border-slate-300 hover:bg-blue-50"}`,children:e},e)),(0,t.jsx)("button",{onClick:()=>u(e=>Math.min(e+1,f)),disabled:p===f,className:"px-3 py-1 rounded-lg border bg-white text-slate-700 disabled:opacity-50",children:"Next"})]})]})})})}e.s(["default",()=>d])}]);