(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1242,e=>{"use strict";var a=e.i(66497),t=e.i(10977),s=e.i(99681);let r=t.forwardRef(({className:e,type:t,...r},l)=>(0,a.jsx)("input",{type:t,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:l,...r}));r.displayName="Input",e.s(["Input",()=>r])},10763,e=>{"use strict";let a=(0,e.i(43184).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>a],10763)},10434,e=>{"use strict";var a=e.i(66497),t=e.i(10977),s=e.i(3339),r=e.i(50738),l=e.i(99681);let n=s.Root,i=s.Trigger,o=s.Portal;s.Close;let d=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.Overlay,{ref:r,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));d.displayName=s.Overlay.displayName;let c=t.forwardRef(({className:e,children:t,...n},i)=>(0,a.jsxs)(o,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)(s.Content,{ref:i,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,(0,a.jsxs)(s.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(r.X,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));c.displayName=s.Content.displayName;let u=({className:e,...t})=>(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});u.displayName="DialogHeader";let p=({className:e,...t})=>(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});p.displayName="DialogFooter";let m=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.Title,{ref:r,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));m.displayName=s.Title.displayName;let x=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.Description,{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));x.displayName=s.Description.displayName,e.s(["Dialog",()=>n,"DialogContent",()=>c,"DialogDescription",()=>x,"DialogFooter",()=>p,"DialogHeader",()=>u,"DialogTitle",()=>m,"DialogTrigger",()=>i])},35822,e=>{"use strict";let a=(0,e.i(43184).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>a],35822)},26092,e=>{"use strict";let a=(0,e.i(43184).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>a],26092)},55775,e=>{"use strict";e.i(93677);var a=e.i(66497),t=e.i(57445),s=e.i(10977),r=e.i(10763),l=e.i(50738),n=e.i(26092),i=e.i(35822),o=e.i(10434),d=e.i(1242);let c=({onSuccess:e})=>{let[r,l]=(0,s.useState)({name:"",website:"",email:"",phone:"",billingAddress:"",gst:"",subscriptionType:"",trialDuration:"",date:"",status:""}),[n,i]=(0,s.useState)(!1),o=e=>{l({...r,[e.target.name]:e.target.value})},c=async a=>{a.preventDefault(),i(!0);try{let a=await fetch("https://lms-v4tz.onrender.com/companies/create-company",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await a.json();console.log(t),a.ok&&(l({name:"",website:"",email:"",phone:"",billingAddress:"",gst:"",subscriptionType:"",trialDuration:"",date:"",status:""}),e())}catch(e){console.error("Error:",e)}i(!1)};return(0,a.jsx)("div",{className:"h-[450px] w-[450px] overflow-y-auto ",children:(0,a.jsxs)("form",{onSubmit:c,className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(d.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500   ",placeholder:"Name",name:"name",value:r.name,onChange:o,required:!0}),(0,a.jsx)(d.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ",placeholder:"Phone",name:"phone",value:r.phone,onChange:o,required:!0}),(0,a.jsx)(d.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ",placeholder:"Website",name:"website",value:r.website,onChange:o}),(0,a.jsx)(d.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ",type:"email",placeholder:"Email",name:"email",value:r.email,onChange:o,required:!0}),(0,a.jsx)(d.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ",placeholder:"GST",name:"gst",value:r.gst,onChange:o,required:!0}),(0,a.jsxs)("select",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-card dark:border-gray-600 text-gray-500 dark:text-gray-400",name:"subscriptionType",value:r.subscriptionType,onChange:o,required:!0,children:[(0,a.jsx)("option",{value:"",className:"text-gray-500",children:"Select Subscription"}),(0,a.jsx)("option",{value:"Monthly",className:"text-gray-500",children:"Monthly"}),(0,a.jsx)("option",{value:"Quarterly",className:"text-gray-500",children:"Quarterly"}),(0,a.jsx)("option",{value:"Half-Yearly",className:"text-gray-500",children:"Half-Yearly"}),(0,a.jsx)("option",{value:"Annually",className:"text-gray-500",children:"Annually"}),(0,a.jsx)("option",{value:"Trial",className:"text-gray-500",children:"Trial"})]}),"Trial"===r.subscriptionType&&(0,a.jsx)(d.Input,{className:"w-full p-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:border-gray-600 dark:text-gray-400 bg-transparent",placeholder:"Trial Duration (in days)",name:"trialDuration",value:r.trialDuration,onChange:o,required:!0}),(0,a.jsx)(d.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-card dark:border-gray-600 dark:text-gray-400 text-gray-500 ",type:"date",name:"date",value:r.date,onChange:o,required:!0}),(0,a.jsxs)("select",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-card dark:border-gray-600 dark:text-gray-400 text-gray-500 ",name:"status",value:r.status,onChange:o,required:!0,children:[(0,a.jsx)("option",{value:"",className:"text-gray-500",children:"Select Status"}),(0,a.jsx)("option",{value:"Active",className:"text-gray-500",children:"Active"}),(0,a.jsx)("option",{value:"Inactive",className:"text-gray-500",children:"Inactive"}),(0,a.jsx)("option",{value:"On-Hold",className:"text-gray-500",children:"On-Hold"})]})]}),(0,a.jsx)("textarea",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 min-h-[100px] dark:bg-card dark:border-gray-600 dark:text-white placeholder:text-gray-500",placeholder:"Billing Address",name:"billingAddress",value:r.billingAddress,onChange:o,required:!0}),(0,a.jsx)(t.Button,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white",disabled:n,children:n?"Submitting...":"Create Company"})]})})};var u=e.i(16870);e.s(["default",0,()=>{let[e,d]=(0,s.useState)([]),[p,m]=(0,s.useState)(!0),[x,g]=(0,s.useState)(null),[h,f]=(0,s.useState)(1),[y,b]=(0,s.useState)(""),[j,N]=(0,s.useState)(!1),[w,v]=(0,s.useState)(1),k=async(e=1)=>{m(!0);try{let a=await fetch(`https://lms-v4tz.onrender.com/companies/all-company?page=${e}&limit=5`),t=await a.json();d(t.companies),v(Math.ceil(t.total/5))}catch(e){g("Failed to fetch companies.")}m(!1)};(0,s.useEffect)(()=>{k(h)},[h]);let C=async e=>{try{(await fetch(`https://lms-v4tz.onrender.com/companies/${e}`,{method:"DELETE"})).ok?d(a=>a.filter(a=>a._id!==e)):console.error("Failed to delete company")}catch(e){console.error("Error deleting company:",e)}},S=e.filter(e=>e.name.toLowerCase().includes(y.toLowerCase())||e.email.toLowerCase().includes(y.toLowerCase())||e.phone.toLowerCase().includes(y.toLowerCase())),T=S.slice((h-1)*5,5*h),D=e=>{e>=1&&e<=w&&f(e)};return p?(0,a.jsx)("div",{className:"text-center py-4",children:"Loading..."}):x?(0,a.jsx)("div",{className:"text-center py-4 text-red-500",children:x}):(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Company List"}),(0,a.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",onClick:()=>N(!0),children:"Create Company"})]}),(0,a.jsx)(o.Dialog,{open:j,onOpenChange:N,children:(0,a.jsxs)(o.DialogContent,{className:"sm:max-w-[500px]",children:[(0,a.jsx)(o.DialogHeader,{className:"space-y-2",children:(0,a.jsx)(o.DialogTitle,{className:"text-lg font-medium",children:"Create New Company"})}),(0,a.jsx)(c,{onSuccess:()=>{N(!1),k()}})]})}),(0,a.jsx)("div",{className:"mb-4 relative",children:(0,a.jsxs)("div",{className:"flex items-center bg-card",children:[(0,a.jsx)(r.Search,{className:"absolute left-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search companies...",value:y,onChange:e=>b(e.target.value),className:"pl-10 pr-4 py-2 w-full rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}),y&&(0,a.jsx)("button",{onClick:()=>b(""),className:"absolute right-3 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(l.X,{className:"h-4 w-4"})})]})}),(0,a.jsx)("div",{className:"bg-card rounded-lg shadow overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full table-auto",children:[(0,a.jsx)("thead",{className:"dark:bg-navBackground",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscription"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-900",children:T.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-black",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.email}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.phone}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.subscriptionType}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-lg ${"Active"===e.status?"bg-green-800 text-white":"Inactive"===e.status?"bg-red-800 text-white":"bg-blue-500 text-white"}`,children:e.status})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)(u.default,{href:`/admin/company/${e._id}`,children:(0,a.jsx)("button",{className:" transition-colors",children:(0,a.jsx)(n.Edit,{className:"h-5 w-5 text-blue-600 hover:text-blue-900"})})}),(0,a.jsx)("button",{onClick:()=>C(e._id),children:(0,a.jsx)(i.Trash2,{className:"h-5 w-5 ml-3 text-red-600 hover:text-red-800"})})]})]},e._id))})]})}),S.length>5&&(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsx)(t.Button,{onClick:()=>D(h-1),disabled:1===h,className:`${1===h?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),(0,a.jsxs)("span",{className:"text-gray-600",children:["Page ",h," of ",w]}),(0,a.jsx)(t.Button,{onClick:()=>D(h+1),disabled:h===w,className:`${h===w?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]})]})}],55775)}]);