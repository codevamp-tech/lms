(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1242,e=>{"use strict";var t=e.i(66497),a=e.i(10977),r=e.i(99681);let s=a.forwardRef(({className:e,type:a,...s},n)=>(0,t.jsx)("input",{type:a,className:(0,r.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));s.displayName="Input",e.s(["Input",()=>s])},93656,72232,e=>{"use strict";var t=e.i(66497),a=e.i(10977);e.i(93677);var r=e.i(28261),s=e.i(20215);function n(e){return e}function o(e){return e.state.isPaused}function i(e){return"success"===e.state.status}function d(e){return!0}function l(e,t={}){let a=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??o,r=e.getMutationCache().getAll().flatMap(e=>a(e)?[{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}]:[]),u=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??i,c=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??d,p=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??n;return{mutations:r,queries:e.getQueryCache().getAll().flatMap(e=>{let t;return u(e)?[{dehydratedAt:Date.now(),state:{...e.state,...void 0!==e.state.data&&{data:p(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,..."pending"===e.state.status&&{promise:(t=e.promise?.then(p).catch(e=>c(e)?Promise.reject(Error("redacted")):Promise.reject(e)),t?.catch(s.noop),t)},...e.meta&&{meta:e.meta}}]:[]})}}function u(e,t,a){if("object"!=typeof t||null===t)return;let o=e.getMutationCache(),i=e.getQueryCache(),d=a?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??n,l=t.mutations||[],u=t.queries||[];l.forEach(({state:t,...r})=>{o.build(e,{...e.getDefaultOptions().hydrate?.mutations,...a?.defaultOptions?.mutations,...r},t)}),u.forEach(({queryKey:t,state:n,queryHash:o,meta:l,promise:u,dehydratedAt:c})=>{let p=u?(0,r.tryResolveSync)(u):void 0,f=void 0===n.data?p?.data:n.data,g=void 0===f?f:d(f),h=i.get(o),m=h?.state.status==="pending",y=h?.state.fetchStatus==="fetching";if(h){let e=p&&void 0!==c&&c>h.state.dataUpdatedAt;if(n.dataUpdatedAt>h.state.dataUpdatedAt||e){let{fetchStatus:e,...t}=n;h.setState({...t,data:g})}}else h=i.build(e,{...e.getDefaultOptions().hydrate?.queries,...a?.defaultOptions?.queries,queryKey:t,queryHash:o,meta:l},{...n,data:g,fetchStatus:"idle",status:void 0!==g?"success":n.status});u&&!m&&!y&&(void 0===c||c>h.state.dataUpdatedAt)&&h.fetch(void 0,{initialPromise:Promise.resolve(u).then(d)}).catch(s.noop)})}e.s(["dehydrate",()=>l,"hydrate",()=>u],72232);var c=e.i(36109),p=({children:e,options:t={},state:r,queryClient:s})=>{let n=(0,c.useQueryClient)(s),o=a.useRef(t);a.useEffect(()=>{o.current=t});let i=a.useMemo(()=>{if(r){if("object"!=typeof r)return;let e=n.getQueryCache(),t=r.queries||[],a=[],s=[];for(let r of t){let t=e.get(r.queryHash);t?(r.state.dataUpdatedAt>t.state.dataUpdatedAt||r.promise&&"pending"!==t.state.status&&"fetching"!==t.state.fetchStatus&&void 0!==r.dehydratedAt&&r.dehydratedAt>t.state.dataUpdatedAt)&&s.push(r):a.push(r)}if(a.length>0&&u(n,{queries:a},o.current),s.length>0)return s}},[n,r]);return a.useEffect(()=>{i&&u(n,{queries:i},o.current)},[n,i]),e};function f(e){return(0,t.jsx)(p,{...e})}e.s(["Hydrate",()=>f],93656)},44396,e=>{"use strict";var t=e.i(66497),a=e.i(10977),r=e.i(57445),s=e.i(1242),n=e.i(3139),o=e.i(16870);e.s(["default",0,()=>{let{companyId:e}=(0,n.useParams)(),i=(0,n.useRouter)(),[d,l]=(0,a.useState)({name:"",website:"",email:"",phone:"",billingAddress:"",gst:"",subscriptionType:"",trialDuration:"",date:"",status:""}),[u,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let t=await fetch(`https://lms-v4tz.onrender.com/companies/${e}`),a=await t.json();l({name:a.name,website:a.website||"",email:a.email,phone:a.phone,billingAddress:a.billingAddress,gst:a.gst,trialDuration:a.trialDuration||"",subscriptionType:a.subscriptionType,date:a.date?a.date.split("T")[0]:"",status:a.status}),c(!1)}catch(e){console.error("Error fetching company data:",e),c(!1)}})()},[e]);let p=e=>{l({...d,[e.target.name]:e.target.value})},f=async t=>{t.preventDefault(),c(!0);try{let t=await fetch(`https://lms-v4tz.onrender.com/companies/edit-company/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),a=await t.json();console.log("Update successful:",a),i.push("/admin/company")}catch(e){console.error("Error:",e)}c(!1)};return u?(0,t.jsx)("div",{className:"text-center py-4",children:"Loading..."}):(0,t.jsx)("div",{className:"h-[450px] w-full overflow-y-auto",children:(0,t.jsxs)("form",{onSubmit:f,className:"p-6 space-y-4 bg-card rounded-lg",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(s.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Company Name",name:"name",value:d.name,onChange:p,required:!0}),(0,t.jsx)(s.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone Number",name:"phone",value:d.phone,onChange:p,required:!0}),(0,t.jsx)(s.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Website",name:"website",value:d.website,onChange:p}),(0,t.jsx)(s.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",type:"email",placeholder:"Email Address",name:"email",value:d.email,onChange:p,required:!0}),(0,t.jsx)(s.Input,{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"GST Number",name:"gst",value:d.gst,onChange:p,required:!0}),(0,t.jsxs)("select",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-card dark:border-gray-600  dark:text-gray-400",name:"subscriptionType",value:d.subscriptionType,onChange:p,required:!0,children:[(0,t.jsx)("option",{value:"Monthly",className:"text-gray-500",children:"Monthly"}),(0,t.jsx)("option",{value:"Quarterly",className:"text-gray-500",children:"Quarterly"}),(0,t.jsx)("option",{value:"Half-Yearly",className:"text-gray-500",children:"Half-Yearly"}),(0,t.jsx)("option",{value:"Annually",className:"text-gray-500",children:"Annually"}),(0,t.jsx)("option",{value:"Trial",className:"text-gray-500",children:"Trial"})]}),"Trial"===d.subscriptionType&&(0,t.jsx)(s.Input,{className:"w-full p-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:border-gray-600 dark:text-gray-400 bg-transparent",placeholder:"Trial Duration (in days)",name:"trialDuration",value:d.trialDuration,onChange:p,required:!0}),(0,t.jsx)(s.Input,{className:"w-full p-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:border-gray-600 dark:text-gray-400 bg-transparent",type:"date",name:"date",value:d.date,onChange:p,required:!0}),(0,t.jsxs)("select",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-card dark:border-gray-600 dark:text-gray-400   ",name:"status",value:d.status,onChange:p,required:!0,children:[(0,t.jsx)("option",{value:"Active",className:"text-gray-500",children:"Active"}),(0,t.jsx)("option",{value:"Inactive",className:"text-gray-500",children:"Inactive"}),(0,t.jsx)("option",{value:"On-Hold",className:"text-gray-500",children:"On-Hold"})]})]}),(0,t.jsx)("textarea",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 min-h-[100px] dark:bg-card dark:border-gray-600 dark:text-white placeholder:text-gray-500",placeholder:"Billing Address",name:"billingAddress",value:d.billingAddress,onChange:p,required:!0}),(0,t.jsx)(r.Button,{type:"submit",disabled:u,children:u?"Updating...":"Update Company"}),(0,t.jsx)(o.default,{href:"/admin/company",children:(0,t.jsx)("button",{className:"ml-4 border border-black px-3 py-1 rounded",children:"Cancel"})})]})})}])}]);