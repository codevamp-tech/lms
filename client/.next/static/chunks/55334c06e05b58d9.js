(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1242,e=>{"use strict";var a=e.i(66497),t=e.i(10977),s=e.i(99681);let r=t.forwardRef(({className:e,type:t,...r},l)=>(0,a.jsx)("input",{type:t,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:l,...r}));r.displayName="Input",e.s(["Input",()=>r])},82133,e=>{"use strict";var a=e.i(66497),t=e.i(10977),s=e.i(28873),r=t.forwardRef((e,t)=>(0,a.jsx)(s.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));r.displayName="Label";var l=e.i(47418),i=e.i(99681);let o=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)(r,{ref:s,className:(0,i.cn)(o(),e),...t}));n.displayName=r.displayName,e.s(["Label",()=>n],82133)},10434,e=>{"use strict";var a=e.i(66497),t=e.i(10977),s=e.i(3339),r=e.i(50738),l=e.i(99681);let i=s.Root,o=s.Trigger,n=s.Portal;s.Close;let d=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.Overlay,{ref:r,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));d.displayName=s.Overlay.displayName;let c=t.forwardRef(({className:e,children:t,...i},o)=>(0,a.jsxs)(n,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)(s.Content,{ref:o,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...i,children:[t,(0,a.jsxs)(s.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(r.X,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));c.displayName=s.Content.displayName;let m=({className:e,...t})=>(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});m.displayName="DialogHeader";let u=({className:e,...t})=>(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});u.displayName="DialogFooter";let p=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.Title,{ref:r,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));p.displayName=s.Title.displayName;let x=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.Description,{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));x.displayName=s.Description.displayName,e.s(["Dialog",()=>i,"DialogContent",()=>c,"DialogDescription",()=>x,"DialogFooter",()=>u,"DialogHeader",()=>m,"DialogTitle",()=>p,"DialogTrigger",()=>o])},86e3,e=>{"use strict";let a=(0,e.i(43184).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>a],86e3)},68933,e=>{"use strict";var a=e.i(10977);function t(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["usePrevious",()=>t])},96453,e=>{"use strict";let a=(0,e.i(43184).default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>a],96453)},27770,7935,e=>{"use strict";var a=e.i(43184);let t=(0,a.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],27770);let s=(0,a.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>s],7935)},92809,e=>{"use strict";e.i(93677);var a=e.i(66497),t=e.i(96453),s=e.i(57445),r=e.i(1242),l=e.i(82133),i=e.i(10977),o=e.i(72154),n=e.i(10434),d=e.i(86e3),c=e.i(3139);let m=({isOpen:e,onClose:t,title:r="Success!",message:l="Your action was successful.",buttonText:i="Continue"})=>{let o=(0,c.useRouter)();return(0,a.jsx)(n.Dialog,{open:e,onOpenChange:t,children:(0,a.jsxs)(n.DialogContent,{className:"sm:max-w-md text-center",children:[(0,a.jsxs)(n.DialogHeader,{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center mb-2",children:(0,a.jsx)(d.CheckCircle,{className:"h-8 w-8 text-green-600"})}),(0,a.jsx)(n.DialogTitle,{className:"text-xl font-bold text-center",children:r}),(0,a.jsx)(n.DialogDescription,{className:"text-center text-gray-600",children:l})]}),(0,a.jsx)(n.DialogFooter,{className:"sm:justify-center mt-4",children:(0,a.jsx)(s.Button,{onClick:()=>{t(),o.push("/")},className:"w-full sm:w-auto min-w-[120px]",children:i})})]})})};var u=e.i(57618);let p="https://lms-v4tz.onrender.com";e.s(["default",0,()=>{let e=(0,i.useRef)(null);(0,i.useRef)(null);let[n,d]=(0,i.useState)({name:"",email:"",whatsappNo:"",preferredTimeToCall:""}),[c,x]=(0,i.useState)(null),[h,f]=(0,i.useState)(""),g={title:"Chat Buddy",sub:"chat",price:"2000/m",icon:t.Award,route:"/chatBuddy",className:"bg-gradient-to-r from-yellow-400 to-orange-400"},[y,b]=(0,i.useState)(!1),j=async e=>{e.preventDefault();let a=v.find(e=>e._id===h);if(!h||!a)return void o.default.error("Please select an available chat buddy");if(a.bookedSlots>=5)return void o.default.error("This chat buddy is fully booked. Please choose another.");try{if(!window.Razorpay){let e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),await new Promise(a=>e.onload=a)}let e=g.price.match(/\d+/),a=e?parseInt(e[0],10):0,t=await fetch(`${p}/razorpay/create-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:a,currency:"INR",receipt:`chatbuddy_${Date.now()}`})});if(!t.ok)throw Error("Order creation failed");let s=await t.json(),r={key:"rzp_live_RXKihrQL9Kxgg1",amount:s.amount,currency:s.currency,name:"Mr English Training Academy",description:"Chat Buddy Subscription",order_id:s.id,handler:async e=>{try{let a={name:n.name,email:n.email,whatsapp:n.whatsappNo,type:"chat",status:"pending",price:g.price,chatBuddyId:h,preferredTimeToCall:n.preferredTimeToCall,razorpay_payment_id:e.razorpay_payment_id,razorpay_order_id:e.razorpay_order_id,razorpay_signature:e.razorpay_signature,amount:s.amount,currency:s.currency};if(!(await fetch(`${p}/enquiry`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)return void o.default.error("Payment success but enquiry failed");b(!0)}catch(e){console.error(e),o.default.error("Enquiry creation failed")}},theme:{color:"#b28704"}};new window.Razorpay(r).open()}catch(e){console.error(e),o.default.error("Payment failed")}},N=e=>{d({...n,[e.target.name]:e.target.value})},[v,w]=(0,i.useState)([]),[C,T]=(0,i.useState)(!0),k=async()=>{try{T(!0);let e=await fetch(`${p}/chat-buddy?limit=100`),a=await e.json();a.buddies&&Array.isArray(a.buddies)?w(a.buddies):Array.isArray(a)?w(a):(console.error("Unexpected API response format:",a),w([]))}catch(e){console.error(e),w([])}finally{T(!1)}};(0,i.useEffect)(()=>{k()},[]);let S=({bookedSlots:e=0})=>(0,a.jsx)("div",{className:"flex gap-1 mt-2",children:Array.from({length:5}).map((t,s)=>(0,a.jsx)("span",{className:`w-4 h-4 rounded-full border flex items-center justify-center
            ${s<e?"bg-green-500 border-green-500":"bg-gray-100 border-gray-300"}`,children:s<e&&(0,a.jsx)("span",{className:"text-white text-xs",children:"âœ“"})},s))});return(0,i.useEffect)(()=>{if(!h)return;let e=v.find(e=>e._id===h);e&&e.bookedSlots>=5&&(o.default.error("Selected chat buddy is full. Please choose another."),f(""))},[v,h]),(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 py-12 px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-20",children:[(0,a.jsxs)("div",{className:`inline-flex items-center px-6 py-3 rounded-full ${g.className} text-white shadow-xl mb-6`,children:[(0,a.jsx)(t.Award,{className:"w-5 h-5 mr-2"}),g.title]}),(0,a.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:["Your ",(0,a.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-yellow-500 to-orange-500",children:"24/7 Chat Buddy"})]}),(0,a.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Unlimited messaging support with expert buddies to help you practice, learn, and grow every single day."}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-orange-600 mt-4",children:["â‚¹",g.price]})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Available Chat Buddies"}),C?(0,a.jsx)("p",{className:"text-gray-500",children:"Loading chat buddies..."}):0===v.length?(0,a.jsx)("p",{className:"text-gray-500",children:"No chat buddies available"}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"space-y-4 h-[750px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-orange-200 scrollbar-track-transparent",children:v.map(e=>(0,a.jsxs)("div",{className:`bg-white rounded-xl shadow-md p-4 flex items-start gap-4
    ${"full"===e.status?"opacity-60":""}
  `,children:[(0,a.jsx)("img",{src:e.photo||"/placeholder-avatar.png",alt:e.name,className:"w-14 h-14 rounded-full object-cover"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),"full"===e.status?(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-700",children:"Full"}):(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Available"})]}),e.bio&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.bio}),(0,a.jsx)(S,{bookedSlots:e.bookedSlots}),e.bookedSlots>=5&&(0,a.jsx)("p",{className:"text-xs text-red-600 mt-2 font-medium",children:"This chat buddy is fully booked."})]})]},e._id))})})]}),(0,a.jsx)("div",{className:"lg:sticky lg:top8 lg:h-screen lg:flex lg:flex-col lg:justify-center",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-white/80 to-amber-50/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/50",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:`inline-flex items-center px-4 py-2 rounded-full ${g.className} text-white mx-auto mb-4`,children:[(0,a.jsx)(t.Award,{className:"w-4 h-4 mr-1"}),"Get Your Buddy"]}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Start Chatting Today"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Connect with your personal chat buddy"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:["â‚¹",g.price]})]}),(0,a.jsxs)("form",{ref:e,onSubmit:j,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(l.Label,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Full Name"}),(0,a.jsx)(r.Input,{id:"name",name:"name",required:!0,value:n.name,onChange:N,className:"h-12 text-lg",placeholder:"Enter your full name"}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(l.Label,{htmlFor:"email",children:"Email Address"}),(0,a.jsx)(r.Input,{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:N,placeholder:"your@email.com"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(l.Label,{htmlFor:"buddy",className:"text-sm font-medium text-gray-700",children:"Select Chat Buddy"}),(0,a.jsxs)(u.Select,{value:h,onValueChange:e=>f(e),children:[(0,a.jsx)(u.SelectTrigger,{className:"h-10 text-base",children:(0,a.jsx)(u.SelectValue,{placeholder:"Choose your buddy"})}),(0,a.jsx)(u.SelectContent,{className:"max-h-[250px]",children:v.map(e=>(0,a.jsxs)(u.SelectItem,{value:e._id,disabled:e.bookedSlots>=5,children:[e.name," ",e.bookedSlots>=5?"(Full)":""]},e._id))})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(l.Label,{htmlFor:"whatsappNo",className:"text-sm font-medium text-gray-700",children:"WhatsApp Number"}),(0,a.jsx)(r.Input,{id:"whatsappNo",name:"whatsappNo",type:"tel",required:!0,pattern:"[0-9]{10}",value:n.whatsappNo,onChange:N,className:"h-12 text-lg",placeholder:"10-digit number (Primary chat)"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(l.Label,{htmlFor:"preferredTimeToChat",className:"text-sm font-medium text-gray-700",children:"Preferred Time to Call"}),(0,a.jsxs)("select",{id:"preferredTimeToCall",name:"preferredTimeToCall",required:!0,value:n.preferredTimeToCall,onChange:e=>d({...n,preferredTimeToCall:e.target.value}),className:"h-12 text-lg rounded-md border border-input bg-background px-3",children:[(0,a.jsx)("option",{value:"",children:"Select preferred time"}),(0,a.jsx)("option",{value:"morning",children:"Morning (6 AM â€“ 12 PM)"}),(0,a.jsx)("option",{value:"afternoon",children:"Afternoon (12 PM â€“ 5 PM)"}),(0,a.jsx)("option",{value:"evening",children:"Evening (5 PM â€“ 9 PM)"}),(0,a.jsx)("option",{value:"night",children:"Night (9 PM â€“ 12 AM)"}),(0,a.jsx)("option",{value:"anytime",children:"Anytime"})]})]})]}),(0,a.jsx)("div",{className:"pt-4 space-y-3",children:(0,a.jsxs)(s.Button,{type:"submit",className:"w-full h-14 text-lg font-semibold bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 shadow-xl",children:["Get Chat Buddy - â‚¹",g.price]})})]})]})})]})]}),(0,a.jsx)(m,{isOpen:y,onClose:()=>b(!1),title:"Chat Buddy Booked! ðŸŽ‰",message:"We have received your payment and booking details. Our team will contact you shortly on your WhatsApp number.",buttonText:"Awesome, thanks!"})]})}],92809)}]);