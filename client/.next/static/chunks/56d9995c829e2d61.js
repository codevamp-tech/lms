(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1242,e=>{"use strict";var t=e.i(66497),r=e.i(10977),s=e.i(99681);let a=r.forwardRef(({className:e,type:r,...a},o)=>(0,t.jsx)("input",{type:r,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...a}));a.displayName="Input",e.s(["Input",()=>a])},82133,e=>{"use strict";var t=e.i(66497),r=e.i(10977),s=e.i(28873),a=r.forwardRef((e,r)=>(0,t.jsx)(s.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var o=e.i(47418),u=e.i(99681);let i=(0,o.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(a,{ref:s,className:(0,u.cn)(i(),e),...r}));n.displayName=a.displayName,e.s(["Label",()=>n],82133)},93656,72232,e=>{"use strict";var t=e.i(66497),r=e.i(10977);e.i(93677);var s=e.i(28261),a=e.i(20215);function o(e){return e}function u(e){return e.state.isPaused}function i(e){return"success"===e.state.status}function n(e){return!0}function l(e,t={}){let r=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??u,s=e.getMutationCache().getAll().flatMap(e=>r(e)?[{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}]:[]),c=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??i,d=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??n,h=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??o;return{mutations:s,queries:e.getQueryCache().getAll().flatMap(e=>{let t;return c(e)?[{dehydratedAt:Date.now(),state:{...e.state,...void 0!==e.state.data&&{data:h(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,..."pending"===e.state.status&&{promise:(t=e.promise?.then(h).catch(e=>d(e)?Promise.reject(Error("redacted")):Promise.reject(e)),t?.catch(a.noop),t)},...e.meta&&{meta:e.meta}}]:[]})}}function c(e,t,r){if("object"!=typeof t||null===t)return;let u=e.getMutationCache(),i=e.getQueryCache(),n=r?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??o,l=t.mutations||[],c=t.queries||[];l.forEach(({state:t,...s})=>{u.build(e,{...e.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...s},t)}),c.forEach(({queryKey:t,state:o,queryHash:u,meta:l,promise:c,dehydratedAt:d})=>{let h=c?(0,s.tryResolveSync)(c):void 0,p=void 0===o.data?h?.data:o.data,f=void 0===p?p:n(p),y=i.get(u),m=y?.state.status==="pending",g=y?.state.fetchStatus==="fetching";if(y){let e=h&&void 0!==d&&d>y.state.dataUpdatedAt;if(o.dataUpdatedAt>y.state.dataUpdatedAt||e){let{fetchStatus:e,...t}=o;y.setState({...t,data:f})}}else y=i.build(e,{...e.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:t,queryHash:u,meta:l},{...o,data:f,fetchStatus:"idle",status:void 0!==f?"success":o.status});c&&!m&&!g&&(void 0===d||d>y.state.dataUpdatedAt)&&y.fetch(void 0,{initialPromise:Promise.resolve(c).then(n)}).catch(a.noop)})}e.s(["dehydrate",()=>l,"hydrate",()=>c],72232);var d=e.i(36109),h=({children:e,options:t={},state:s,queryClient:a})=>{let o=(0,d.useQueryClient)(a),u=r.useRef(t);r.useEffect(()=>{u.current=t});let i=r.useMemo(()=>{if(s){if("object"!=typeof s)return;let e=o.getQueryCache(),t=s.queries||[],r=[],a=[];for(let s of t){let t=e.get(s.queryHash);t?(s.state.dataUpdatedAt>t.state.dataUpdatedAt||s.promise&&"pending"!==t.state.status&&"fetching"!==t.state.fetchStatus&&void 0!==s.dehydratedAt&&s.dehydratedAt>t.state.dataUpdatedAt)&&a.push(s):r.push(s)}if(r.length>0&&c(o,{queries:r},u.current),a.length>0)return a}},[o,s]);return r.useEffect(()=>{i&&c(o,{queries:i},u.current)},[o,i]),e};function p(e){return(0,t.jsx)(h,{...e})}e.s(["Hydrate",()=>p],93656)},17548,e=>{"use strict";var t=e.i(10977),r=e.i(72721),s=e.i(95349),a=e.i(39314),o=e.i(20215),u=class extends a.Subscribable{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.hashKey)(t.mutationKey)!==(0,o.hashKey)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#a(),this.#o()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#a(){let e=this.#r?.state??(0,r.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#o(e){s.notifyManager.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r,s),this.#s.onSettled?.(e.data,null,t,r,s)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r,s),this.#s.onSettled?.(void 0,e.error,t,r,s))}this.listeners.forEach(e=>{e(this.#t)})})}},i=e.i(36109);function n(e,r){let a=(0,i.useQueryClient)(r),[n]=t.useState(()=>new u(a,e));t.useEffect(()=>{n.setOptions(e)},[n,e]);let l=t.useSyncExternalStore(t.useCallback(e=>n.subscribe(s.notifyManager.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),c=t.useCallback((e,t)=>{n.mutate(e,t).catch(o.noop)},[n]);if(l.error&&(0,o.shouldThrowError)(n.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}e.s(["useMutation",()=>n],17548)},8291,e=>{"use strict";var t=e.i(17548),r=e.i(49675),s=e.i(36109);e.i(93677);var a=e.i(44506);let o="https://lms-v4tz.onrender.com/courses",u=async e=>{try{let{data:t}=await a.default.post(`${o}`,e,{headers:{Authorization:"Bearer ","Content-Type":"application/json"}});return t}catch(e){throw Error(e.response?.data?.message||"Signup failed")}},i=async(e,t=1,r=7)=>{try{let{data:s}=await a.default.post(`${o}/get-creator-courses`,{userId:e,page:t,limit:r});return s}catch(e){throw Error(e.response?.data?.message||"Failed to fetch courses")}},n=async(e,t,r=1)=>{let s=new URLSearchParams({userRole:e,page:r.toString()});return"instructor"===e&&t&&s.append("userId",t),(await fetch(`${o}/alladmin?${s.toString()}`)).json()},l=async()=>{try{let{data:e}=await a.default.get(`${o}/summary`);return e}catch(e){throw Error(e.response?.data?.message||"Failed to fetch analytics")}},c=async e=>{try{return(await a.default.get(`${o}/${e}`)).data}catch(e){console.error("Error fetching course:",e)}},d=async(e,t,r)=>{try{let s=new FormData;Object.keys(t).forEach(e=>{s.append(e,t[e])}),r&&s.append("thumbnail",r);let{data:u}=await a.default.patch(`${o}/${e}`,s,{headers:{"Content-Type":"multipart/form-data"}});return u}catch(e){throw Error(e.response?.data?.message||"Updating Failed")}},h=async e=>{try{return(await a.default.get(`${o}/${e}/lectures`)).data}catch(e){console.error("Error fetching course:",e)}},p=async(e,t)=>{try{return(await a.default.put(`${o}/${e}/toggle-publish`,null,{headers:{Authorization:"Bearer "},params:{publish:t?.toString()}})).data.message}catch(e){throw console.error("Error toggling course publish status:",e.response?.data?.message||e.message),Error(e.response?.data?.message||"Failed to toggle publish status")}},f=async(e,t)=>{try{return(await a.default.put(`${o}/${e}/toggle-private`,null,{params:{privated:t?.toString()}})).data.message}catch(e){throw console.error("Error toggling course private status:",e.response?.data?.message||e.message),Error(e.response?.data?.message||"Failed to toggle private status")}},y=async(e=1,t=8,r)=>{try{let{data:s}=await a.default.get(`${o}/published/all`,{params:{companyId:r,page:e,limit:t}});return s}catch(e){throw console.error("Error fetching courses:",e),e}},m=async e=>{try{let{data:t}=await a.default.delete(`${o}/${e}`,{headers:{"Content-Type":"application/json"}});return t}catch(e){throw Error(e.response?.data?.message||"Deleting Failed")}};var g=e.i(72154),b=e.i(10977);e.s(["default",0,()=>{let e=(0,s.useQueryClient)(),a=(0,t.useMutation)({mutationFn:u,onSuccess:()=>{console.log("Course created successfully")},onError:e=>{console.error("Error creating course:",e)}}),o=(0,t.useMutation)({mutationFn:({courseId:e,updatedData:t,thumbnail:r})=>d(e,t,r),onSuccess:()=>{console.log("Course updated successfully")},onError:e=>{console.error("Error updating course:",e.message)}}),v=(0,t.useMutation)({mutationFn:({courseId:e,publish:t})=>p(e,t),onSuccess:()=>{console.log("Course updated successfully")},onError:e=>{console.error("Error updating course:",e.message)}}),E=(0,t.useMutation)({mutationFn:({courseId:e,privated:t})=>f(e,t),onSuccess:()=>{console.log("Course updated successfully")},onError:e=>{console.error("Error updating course:",e.message)}}),C=(0,t.useMutation)({mutationFn:({courseId:e})=>m(e),onSuccess:()=>{e.invalidateQueries({queryKey:["courses"]})},onError:e=>{g.default.error("Failed to delete course:",e)}});return{createNewCourse:a.mutate,editCourse:o.mutate,publishCourse:v.mutate,deleteCourse:C.mutate,privateCourse:E.mutate,getCreatorCoursesQuery:(e,t,s=7)=>{let a=(0,r.useQuery)({queryKey:["creatorCourses",e,t],queryFn:()=>i(e,t,s),enabled:!!e,placeholderData:e=>e,staleTime:5e3,refetchOnWindowFocus:!1});return(0,b.useEffect)(()=>{a.data&&console.log("Courses fetched successfully:",a.data)},[a.data]),(0,b.useEffect)(()=>{a.error&&console.error("Error fetching courses:",a.error)},[a.error]),a},getAdminCoursesQuery:(e,t,s)=>(0,r.useQuery)({queryKey:["courses",e,s,t],queryFn:()=>n(e,s,t),enabled:!!e}),useAnalyticsSummary:()=>(0,r.useQuery)({queryKey:["courseAnalyticsSummary"],queryFn:l,staleTime:5e3,refetchOnWindowFocus:!1}),getCourseByIdQuery:e=>{let t=(0,r.useQuery)({queryKey:["course",e],queryFn:()=>c(e),enabled:!!e,staleTime:5e3,refetchOnWindowFocus:!1});return(0,b.useEffect)(()=>{t.data&&console.log("Course fetched successfully:",t.data)},[t.data]),(0,b.useEffect)(()=>{t.error&&console.error("Error fetching course by ID:",t.error)},[t.error]),t},getCourseLecturesQuery:e=>{let t=(0,r.useQuery)({queryKey:["lectures",e],queryFn:()=>h(e),enabled:!!e});return(0,b.useEffect)(()=>{t.error&&console.error("Error fetching lectures:",t.error)},[t.error]),t},getPublishedCoursesQuery:(e,t,s,a)=>{let o=(0,r.useQuery)({queryKey:["publishedCourses",e,s],queryFn:()=>y(e,t,s),staleTime:5e3,enabled:a?.enabled});return(0,b.useEffect)(()=>{o.data&&console.log("Courses fetched successfully:",o.data)},[o.data]),(0,b.useEffect)(()=>{o.error&&console.error("Error fetching courses:",o.error)},[o.error]),o},isLoading:a.isPending,error:a.error||o.error}}],8291)},65752,e=>{"use strict";let t=(0,e.i(43184).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],65752)},75749,e=>{"use strict";var t=e.i(66497),r=e.i(57445),s=e.i(1242),a=e.i(82133),o=e.i(65752),u=e.i(10977),i=e.i(3139),n=e.i(8291),l=e.i(95818),c=e.i(72154);e.s(["default",0,()=>{let[e,d]=(0,u.useState)(""),[h,p]=(0,u.useState)(""),[f,y]=(0,u.useState)(""),[m,g]=(0,u.useState)(["Next JS","Data Science","Frontend Development","Fullstack Development","MERN Stack Development","Javascript","Python","Docker","MongoDB","HTML"]),{createNewCourse:b,isLoading:v}=(0,n.default)(),E=(0,l.getUserIdFromToken)(),C=(0,i.useRouter)(),[w,M]=(0,u.useState)(null);(0,u.useEffect)(()=>{let e=localStorage.getItem("companyId");e&&M(e)},[]);let x=async t=>{t.preventDefault();try{await b({courseTitle:e,creatorId:E,companyId:w||""}),c.default.success("Course created successfully."),d(""),y(""),p(""),C.push("/admin/courses")}catch(e){c.default.error("Failed to create course.")}};return(0,t.jsxs)("div",{className:"flex-1 mx-10",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h1",{className:"font-bold text-xl",children:"Let's add a course, add some basic course details for your new course"}),(0,t.jsx)("p",{className:"text-sm",children:"Provide the necessary information to create a new course."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Label,{htmlFor:"courseTitle",children:"Title"}),(0,t.jsx)(s.Input,{id:"courseTitle",type:"text",value:e,onChange:e=>d(e.target.value),placeholder:"Your Course Name"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Button,{variant:"outline",onClick:()=>C.push("/admin/courses"),children:"Back"}),(0,t.jsx)(r.Button,{disabled:v,onClick:x,children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):"Create"})]})]})]})}])}]);